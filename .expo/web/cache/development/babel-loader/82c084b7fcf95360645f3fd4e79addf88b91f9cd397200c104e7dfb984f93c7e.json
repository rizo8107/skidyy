{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Video, ResizeMode } from 'expo-av';\nimport { Feather } from '@expo/vector-icons';\nimport * as ScreenOrientation from 'expo-screen-orientation';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var VideoPlayer = function VideoPlayer(_ref) {\n  var videoUrl = _ref.videoUrl,\n    onComplete = _ref.onComplete,\n    onProgress = _ref.onProgress,\n    onTimeUpdate = _ref.onTimeUpdate,\n    _ref$initialProgress = _ref.initialProgress,\n    initialProgress = _ref$initialProgress === void 0 ? 0 : _ref$initialProgress;\n  var videoRef = useRef(null);\n  var containerRef = useRef(null);\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showControls = _useState4[0],\n    setShowControls = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isFullscreen = _useState6[0],\n    setIsFullscreen = _useState6[1];\n  var _useState7 = useState(1.0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    playbackSpeed = _useState8[0],\n    setPlaybackSpeed = _useState8[1];\n  var controlsTimeoutRef = useRef();\n  useEffect(function () {\n    if (videoRef.current) {\n      videoRef.current.setPositionAsync(initialProgress * 1000);\n    }\n  }, [initialProgress]);\n  useEffect(function () {\n    return function () {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, []);\n  useEffect(function () {\n    var handleFullscreenChange = function handleFullscreenChange() {\n      if (!document.fullscreenElement && isFullscreen) {\n        setIsFullscreen(false);\n      }\n    };\n    if (Platform.OS === 'web') {\n      document.addEventListener('fullscreenchange', handleFullscreenChange);\n      return function () {\n        document.removeEventListener('fullscreenchange', handleFullscreenChange);\n      };\n    }\n  }, [isFullscreen]);\n  var handlePlaybackStatusUpdate = function handlePlaybackStatusUpdate(status) {\n    setStatus(status);\n    if (status.didJustFinish && onComplete) {\n      onComplete();\n    }\n    if (status.positionMillis && status.durationMillis && onProgress) {\n      onProgress(status.positionMillis / status.durationMillis);\n    }\n    if (status.positionMillis && onTimeUpdate) {\n      onTimeUpdate(status.positionMillis / 1000);\n    }\n  };\n  var togglePlay = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (videoRef.current) {\n        if (status.isPlaying) {\n          yield videoRef.current.pauseAsync();\n        } else {\n          yield videoRef.current.playAsync();\n        }\n      }\n    });\n    return function togglePlay() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleSeek = function () {\n    var _ref3 = _asyncToGenerator(function* (forward) {\n      if (videoRef.current && status.positionMillis) {\n        var seekAmount = 10000;\n        var newPosition = status.positionMillis + (forward ? seekAmount : -seekAmount);\n        yield videoRef.current.setPositionAsync(Math.max(0, newPosition));\n      }\n    });\n    return function handleSeek(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var toggleFullscreen = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (Platform.OS === 'web') {\n        if (!isFullscreen) {\n          try {\n            if (containerRef.current) {\n              var element = containerRef.current;\n              if (element.requestFullscreen) {\n                yield element.requestFullscreen();\n              } else if (element.webkitRequestFullscreen) {\n                yield element.webkitRequestFullscreen();\n              } else if (element.msRequestFullscreen) {\n                yield element.msRequestFullscreen();\n              }\n            }\n          } catch (error) {\n            console.error('Error attempting to enable fullscreen:', error);\n          }\n        } else {\n          try {\n            if (document.exitFullscreen) {\n              yield document.exitFullscreen();\n            } else if (document.webkitExitFullscreen) {\n              yield document.webkitExitFullscreen();\n            } else if (document.msExitFullscreen) {\n              yield document.msExitFullscreen();\n            }\n          } catch (error) {\n            console.error('Error attempting to exit fullscreen:', error);\n          }\n        }\n      } else {\n        if (isFullscreen) {\n          yield ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.PORTRAIT);\n        } else {\n          yield ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\n        }\n      }\n      setIsFullscreen(!isFullscreen);\n    });\n    return function toggleFullscreen() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var formatTime = function formatTime(milliseconds) {\n    var totalSeconds = Math.floor(milliseconds / 1000);\n    var minutes = Math.floor(totalSeconds / 60);\n    var seconds = totalSeconds % 60;\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  var handleControlsShow = function handleControlsShow() {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    if (status.isPlaying) {\n      controlsTimeoutRef.current = setTimeout(function () {\n        setShowControls(false);\n      }, 3000);\n    }\n  };\n  var handleProgressBarPress = function handleProgressBarPress(event) {\n    if (videoRef.current && status.durationMillis) {\n      var progressBarWidth = event.currentTarget.offsetWidth;\n      var clickPosition = event.nativeEvent.offsetX;\n      var percentage = clickPosition / progressBarWidth;\n      var newPosition = status.durationMillis * percentage;\n      videoRef.current.setPositionAsync(newPosition);\n    }\n  };\n  return _jsxs(View, {\n    ref: containerRef,\n    style: [styles.container, isFullscreen && styles.fullscreen],\n    onTouchStart: handleControlsShow,\n    onMouseEnter: function onMouseEnter() {\n      return setShowControls(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return status.isPlaying && setShowControls(false);\n    },\n    children: [_jsx(Video, {\n      ref: videoRef,\n      style: [styles.video, isFullscreen && styles.fullscreenVideo],\n      source: {\n        uri: videoUrl\n      },\n      useNativeControls: Platform.OS !== 'web',\n      resizeMode: isFullscreen ? ResizeMode.CONTAIN : ResizeMode.COVER,\n      onPlaybackStatusUpdate: handlePlaybackStatusUpdate,\n      isMuted: false,\n      volume: 1.0,\n      rate: playbackSpeed,\n      shouldPlay: false\n    }), showControls && Platform.OS === 'web' && _jsxs(View, {\n      style: [styles.controls, isFullscreen && styles.fullscreenControls],\n      children: [_jsx(Pressable, {\n        style: styles.progressBarContainer,\n        onPress: handleProgressBarPress,\n        children: _jsx(View, {\n          style: styles.progressBar,\n          children: _jsx(View, {\n            style: [styles.progressFill, {\n              width: `${status.positionMillis / status.durationMillis * 100 || 0}%`\n            }]\n          })\n        })\n      }), _jsxs(View, {\n        style: styles.controlsRow,\n        children: [_jsxs(View, {\n          style: styles.leftControls,\n          children: [_jsx(Pressable, {\n            onPress: togglePlay,\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: status.isPlaying ? 'pause' : 'play',\n              size: 24,\n              color: \"white\"\n            })\n          }), _jsx(Pressable, {\n            onPress: function onPress() {\n              return handleSeek(false);\n            },\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: \"rewind\",\n              size: 20,\n              color: \"white\"\n            })\n          }), _jsx(Pressable, {\n            onPress: function onPress() {\n              return handleSeek(true);\n            },\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: \"fast-forward\",\n              size: 20,\n              color: \"white\"\n            })\n          }), _jsxs(Text, {\n            style: styles.timeText,\n            children: [formatTime(status.positionMillis || 0), \" /\", ' ', formatTime(status.durationMillis || 0)]\n          })]\n        }), _jsxs(View, {\n          style: styles.rightControls,\n          children: [_jsx(Pressable, {\n            onPress: function onPress() {\n              return setPlaybackSpeed(function (speed) {\n                return speed === 1 ? 1.5 : 1;\n              });\n            },\n            style: styles.controlButton,\n            children: _jsxs(Text, {\n              style: styles.speedText,\n              children: [playbackSpeed, \"x\"]\n            })\n          }), _jsx(Pressable, {\n            onPress: toggleFullscreen,\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: isFullscreen ? 'minimize' : 'maximize',\n              size: 20,\n              color: \"white\"\n            })\n          })]\n        })]\n      })]\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#000',\n    borderRadius: 12,\n    overflow: 'hidden',\n    position: 'relative',\n    width: '100%'\n  },\n  fullscreen: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 9999,\n    backgroundColor: '#000',\n    borderRadius: 0\n  },\n  video: {\n    width: '100%',\n    aspectRatio: 16 / 9\n  },\n  fullscreenVideo: {\n    width: '100%',\n    height: '100%',\n    aspectRatio: undefined\n  },\n  controls: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    padding: 16\n  },\n  fullscreenControls: {\n    padding: 24\n  },\n  progressBarContainer: {\n    width: '100%',\n    height: 20,\n    justifyContent: 'center',\n    cursor: 'pointer'\n  },\n  progressBar: {\n    height: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: 2\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#7C3AED',\n    borderRadius: 2\n  },\n  controlsRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 8\n  },\n  leftControls: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  rightControls: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  controlButton: {\n    marginRight: 16,\n    padding: 8,\n    borderRadius: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)'\n  },\n  timeText: {\n    color: 'white',\n    fontSize: 14,\n    marginLeft: 8\n  },\n  speedText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: '500'\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","StyleSheet","Pressable","Platform","Video","ResizeMode","Feather","ScreenOrientation","jsx","_jsx","jsxs","_jsxs","VideoPlayer","_ref","videoUrl","onComplete","onProgress","onTimeUpdate","_ref$initialProgress","initialProgress","videoRef","containerRef","_useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","showControls","setShowControls","_useState5","_useState6","isFullscreen","setIsFullscreen","_useState7","_useState8","playbackSpeed","setPlaybackSpeed","controlsTimeoutRef","current","setPositionAsync","clearTimeout","handleFullscreenChange","document","fullscreenElement","OS","addEventListener","removeEventListener","handlePlaybackStatusUpdate","didJustFinish","positionMillis","durationMillis","togglePlay","_ref2","_asyncToGenerator","isPlaying","pauseAsync","playAsync","apply","arguments","handleSeek","_ref3","forward","seekAmount","newPosition","Math","max","_x","toggleFullscreen","_ref4","element","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","error","console","exitFullscreen","webkitExitFullscreen","msExitFullscreen","lockAsync","OrientationLock","PORTRAIT","LANDSCAPE","formatTime","milliseconds","totalSeconds","floor","minutes","seconds","toString","padStart","handleControlsShow","setTimeout","handleProgressBarPress","event","progressBarWidth","currentTarget","offsetWidth","clickPosition","nativeEvent","offsetX","percentage","ref","style","styles","container","fullscreen","onTouchStart","onMouseEnter","onMouseLeave","children","video","fullscreenVideo","source","uri","useNativeControls","resizeMode","CONTAIN","COVER","onPlaybackStatusUpdate","isMuted","volume","rate","shouldPlay","controls","fullscreenControls","progressBarContainer","onPress","progressBar","progressFill","width","controlsRow","leftControls","controlButton","name","size","color","timeText","rightControls","speed","speedText","create","backgroundColor","borderRadius","overflow","position","top","left","right","bottom","zIndex","aspectRatio","height","undefined","padding","justifyContent","cursor","flexDirection","alignItems","marginTop","marginRight","fontSize","marginLeft","fontWeight"],"sources":["d:/Code/SKiddy V2/src/components/video/VideoPlayer.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, Pressable, Platform } from 'react-native';\nimport { Video, ResizeMode } from 'expo-av';\nimport { Feather } from '@expo/vector-icons';\nimport * as ScreenOrientation from 'expo-screen-orientation';\n\ninterface VideoPlayerProps {\n  videoUrl: string;\n  onComplete?: () => void;\n  onProgress?: (progress: number) => void;\n  onTimeUpdate?: (time: number) => void;\n  initialProgress?: number;\n}\n\nexport const VideoPlayer = ({\n  videoUrl,\n  onComplete,\n  onProgress,\n  onTimeUpdate,\n  initialProgress = 0,\n}: VideoPlayerProps) => {\n  const videoRef = useRef<Video>(null);\n  const containerRef = useRef<View>(null);\n  const [status, setStatus] = useState<any>({});\n  const [showControls, setShowControls] = useState(true);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [playbackSpeed, setPlaybackSpeed] = useState(1.0);\n  const controlsTimeoutRef = useRef<NodeJS.Timeout>();\n\n  useEffect(() => {\n    if (videoRef.current) {\n      videoRef.current.setPositionAsync(initialProgress * 1000);\n    }\n  }, [initialProgress]);\n\n  useEffect(() => {\n    return () => {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      if (!document.fullscreenElement && isFullscreen) {\n        setIsFullscreen(false);\n      }\n    };\n\n    if (Platform.OS === 'web') {\n      document.addEventListener('fullscreenchange', handleFullscreenChange);\n      return () => {\n        document.removeEventListener('fullscreenchange', handleFullscreenChange);\n      };\n    }\n  }, [isFullscreen]);\n\n  const handlePlaybackStatusUpdate = (status: any) => {\n    setStatus(status);\n    if (status.didJustFinish && onComplete) {\n      onComplete();\n    }\n    if (status.positionMillis && status.durationMillis && onProgress) {\n      onProgress(status.positionMillis / status.durationMillis);\n    }\n    if (status.positionMillis && onTimeUpdate) {\n      onTimeUpdate(status.positionMillis / 1000);\n    }\n  };\n\n  const togglePlay = async () => {\n    if (videoRef.current) {\n      if (status.isPlaying) {\n        await videoRef.current.pauseAsync();\n      } else {\n        await videoRef.current.playAsync();\n      }\n    }\n  };\n\n  const handleSeek = async (forward: boolean) => {\n    if (videoRef.current && status.positionMillis) {\n      const seekAmount = 10000;\n      const newPosition = status.positionMillis + (forward ? seekAmount : -seekAmount);\n      await videoRef.current.setPositionAsync(Math.max(0, newPosition));\n    }\n  };\n\n  const toggleFullscreen = async () => {\n    if (Platform.OS === 'web') {\n      if (!isFullscreen) {\n        try {\n          if (containerRef.current) {\n            const element = containerRef.current as any;\n            if (element.requestFullscreen) {\n              await element.requestFullscreen();\n            } else if (element.webkitRequestFullscreen) {\n              await element.webkitRequestFullscreen();\n            } else if (element.msRequestFullscreen) {\n              await element.msRequestFullscreen();\n            }\n          }\n        } catch (error) {\n          console.error('Error attempting to enable fullscreen:', error);\n        }\n      } else {\n        try {\n          if (document.exitFullscreen) {\n            await document.exitFullscreen();\n          } else if ((document as any).webkitExitFullscreen) {\n            await (document as any).webkitExitFullscreen();\n          } else if ((document as any).msExitFullscreen) {\n            await (document as any).msExitFullscreen();\n          }\n        } catch (error) {\n          console.error('Error attempting to exit fullscreen:', error);\n        }\n      }\n    } else {\n      if (isFullscreen) {\n        await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.PORTRAIT);\n      } else {\n        await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\n      }\n    }\n    setIsFullscreen(!isFullscreen);\n  };\n\n  const formatTime = (milliseconds: number) => {\n    const totalSeconds = Math.floor(milliseconds / 1000);\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const handleControlsShow = () => {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    if (status.isPlaying) {\n      controlsTimeoutRef.current = setTimeout(() => {\n        setShowControls(false);\n      }, 3000);\n    }\n  };\n\n  const handleProgressBarPress = (event: any) => {\n    if (videoRef.current && status.durationMillis) {\n      const progressBarWidth = event.currentTarget.offsetWidth;\n      const clickPosition = event.nativeEvent.offsetX;\n      const percentage = clickPosition / progressBarWidth;\n      const newPosition = status.durationMillis * percentage;\n      videoRef.current.setPositionAsync(newPosition);\n    }\n  };\n\n  return (\n    <View\n      ref={containerRef}\n      style={[styles.container, isFullscreen && styles.fullscreen]}\n      onTouchStart={handleControlsShow}\n      onMouseEnter={() => setShowControls(true)}\n      onMouseLeave={() => status.isPlaying && setShowControls(false)}\n    >\n      <Video\n        ref={videoRef}\n        style={[styles.video, isFullscreen && styles.fullscreenVideo]}\n        source={{ uri: videoUrl }}\n        useNativeControls={Platform.OS !== 'web'}\n        resizeMode={isFullscreen ? ResizeMode.CONTAIN : ResizeMode.COVER}\n        onPlaybackStatusUpdate={handlePlaybackStatusUpdate}\n        isMuted={false}\n        volume={1.0}\n        rate={playbackSpeed}\n        shouldPlay={false}\n      />\n\n      {showControls && Platform.OS === 'web' && (\n        <View style={[styles.controls, isFullscreen && styles.fullscreenControls]}>\n          <Pressable style={styles.progressBarContainer} onPress={handleProgressBarPress}>\n            <View style={styles.progressBar}>\n              <View\n                style={[\n                  styles.progressFill,\n                  {\n                    width: `${\n                      (status.positionMillis / status.durationMillis) * 100 || 0\n                    }%`,\n                  },\n                ]}\n              />\n            </View>\n          </Pressable>\n\n          <View style={styles.controlsRow}>\n            <View style={styles.leftControls}>\n              <Pressable onPress={togglePlay} style={styles.controlButton}>\n                <Feather\n                  name={status.isPlaying ? 'pause' : 'play'}\n                  size={24}\n                  color=\"white\"\n                />\n              </Pressable>\n\n              <Pressable onPress={() => handleSeek(false)} style={styles.controlButton}>\n                <Feather name=\"rewind\" size={20} color=\"white\" />\n              </Pressable>\n\n              <Pressable onPress={() => handleSeek(true)} style={styles.controlButton}>\n                <Feather name=\"fast-forward\" size={20} color=\"white\" />\n              </Pressable>\n\n              <Text style={styles.timeText}>\n                {formatTime(status.positionMillis || 0)} /{' '}\n                {formatTime(status.durationMillis || 0)}\n              </Text>\n            </View>\n\n            <View style={styles.rightControls}>\n              <Pressable\n                onPress={() => setPlaybackSpeed(speed => (speed === 1 ? 1.5 : 1))}\n                style={styles.controlButton}\n              >\n                <Text style={styles.speedText}>{playbackSpeed}x</Text>\n              </Pressable>\n\n              <Pressable onPress={toggleFullscreen} style={styles.controlButton}>\n                <Feather\n                  name={isFullscreen ? 'minimize' : 'maximize'}\n                  size={20}\n                  color=\"white\"\n                />\n              </Pressable>\n            </View>\n          </View>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#000',\n    borderRadius: 12,\n    overflow: 'hidden',\n    position: 'relative',\n    width: '100%',\n  },\n  fullscreen: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 9999,\n    backgroundColor: '#000',\n    borderRadius: 0,\n  },\n  video: {\n    width: '100%',\n    aspectRatio: 16 / 9,\n  },\n  fullscreenVideo: {\n    width: '100%',\n    height: '100%',\n    aspectRatio: undefined,\n  },\n  controls: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    padding: 16,\n  },\n  fullscreenControls: {\n    padding: 24,\n  },\n  progressBarContainer: {\n    width: '100%',\n    height: 20,\n    justifyContent: 'center',\n    cursor: 'pointer',\n  },\n  progressBar: {\n    height: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: 2,\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#7C3AED',\n    borderRadius: 2,\n  },\n  controlsRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 8,\n  },\n  leftControls: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  rightControls: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  controlButton: {\n    marginRight: 16,\n    padding: 8,\n    borderRadius: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  timeText: {\n    color: 'white',\n    fontSize: 14,\n    marginLeft: 8,\n  },\n  speedText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: '500',\n  },\n});\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,QAAA;AAE3D,SAASC,KAAK,EAAEC,UAAU,QAAQ,SAAS;AAC3C,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,OAAO,KAAKC,iBAAiB,MAAM,yBAAyB;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAU7D,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAMA;EAAA,IALtBC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IACRC,UAAU,GAAAF,IAAA,CAAVE,UAAU;IACVC,UAAU,GAAAH,IAAA,CAAVG,UAAU;IACVC,YAAY,GAAAJ,IAAA,CAAZI,YAAY;IAAAC,oBAAA,GAAAL,IAAA,CACZM,eAAe;IAAfA,eAAe,GAAAD,oBAAA,cAAG,CAAC,GAAAA,oBAAA;EAEnB,IAAME,QAAQ,GAAGvB,MAAM,CAAQ,IAAI,CAAC;EACpC,IAAMwB,YAAY,GAAGxB,MAAM,CAAO,IAAI,CAAC;EACvC,IAAAyB,SAAA,GAA4B1B,QAAQ,CAAM,CAAC,CAAC,CAAC;IAAA2B,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAtCG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EACxB,IAAAI,UAAA,GAAwC/B,QAAQ,CAAC,IAAI,CAAC;IAAAgC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA/CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EACpC,IAAAG,UAAA,GAAwCnC,QAAQ,CAAC,KAAK,CAAC;IAAAoC,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAhDE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EACpC,IAAAG,UAAA,GAA0CvC,QAAQ,CAAC,GAAG,CAAC;IAAAwC,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAhDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAMG,kBAAkB,GAAG1C,MAAM,CAAiB,CAAC;EAEnDC,SAAS,CAAC,YAAM;IACd,IAAIsB,QAAQ,CAACoB,OAAO,EAAE;MACpBpB,QAAQ,CAACoB,OAAO,CAACC,gBAAgB,CAACtB,eAAe,GAAG,IAAI,CAAC;IAC3D;EACF,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErBrB,SAAS,CAAC,YAAM;IACd,OAAO,YAAM;MACX,IAAIyC,kBAAkB,CAACC,OAAO,EAAE;QAC9BE,YAAY,CAACH,kBAAkB,CAACC,OAAO,CAAC;MAC1C;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN1C,SAAS,CAAC,YAAM;IACd,IAAM6C,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAA,EAAS;MACnC,IAAI,CAACC,QAAQ,CAACC,iBAAiB,IAAIZ,YAAY,EAAE;QAC/CC,eAAe,CAAC,KAAK,CAAC;MACxB;IACF,CAAC;IAED,IAAI/B,QAAQ,CAAC2C,EAAE,KAAK,KAAK,EAAE;MACzBF,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,EAAEJ,sBAAsB,CAAC;MACrE,OAAO,YAAM;QACXC,QAAQ,CAACI,mBAAmB,CAAC,kBAAkB,EAAEL,sBAAsB,CAAC;MAC1E,CAAC;IACH;EACF,CAAC,EAAE,CAACV,YAAY,CAAC,CAAC;EAElB,IAAMgB,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIxB,MAAW,EAAK;IAClDC,SAAS,CAACD,MAAM,CAAC;IACjB,IAAIA,MAAM,CAACyB,aAAa,IAAInC,UAAU,EAAE;MACtCA,UAAU,CAAC,CAAC;IACd;IACA,IAAIU,MAAM,CAAC0B,cAAc,IAAI1B,MAAM,CAAC2B,cAAc,IAAIpC,UAAU,EAAE;MAChEA,UAAU,CAACS,MAAM,CAAC0B,cAAc,GAAG1B,MAAM,CAAC2B,cAAc,CAAC;IAC3D;IACA,IAAI3B,MAAM,CAAC0B,cAAc,IAAIlC,YAAY,EAAE;MACzCA,YAAY,CAACQ,MAAM,CAAC0B,cAAc,GAAG,IAAI,CAAC;IAC5C;EACF,CAAC;EAED,IAAME,UAAU;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAC7B,IAAInC,QAAQ,CAACoB,OAAO,EAAE;QACpB,IAAIf,MAAM,CAAC+B,SAAS,EAAE;UACpB,MAAMpC,QAAQ,CAACoB,OAAO,CAACiB,UAAU,CAAC,CAAC;QACrC,CAAC,MAAM;UACL,MAAMrC,QAAQ,CAACoB,OAAO,CAACkB,SAAS,CAAC,CAAC;QACpC;MACF;IACF,CAAC;IAAA,gBARKL,UAAUA,CAAA;MAAA,OAAAC,KAAA,CAAAK,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQf;EAED,IAAMC,UAAU;IAAA,IAAAC,KAAA,GAAAP,iBAAA,CAAG,WAAOQ,OAAgB,EAAK;MAC7C,IAAI3C,QAAQ,CAACoB,OAAO,IAAIf,MAAM,CAAC0B,cAAc,EAAE;QAC7C,IAAMa,UAAU,GAAG,KAAK;QACxB,IAAMC,WAAW,GAAGxC,MAAM,CAAC0B,cAAc,IAAIY,OAAO,GAAGC,UAAU,GAAG,CAACA,UAAU,CAAC;QAChF,MAAM5C,QAAQ,CAACoB,OAAO,CAACC,gBAAgB,CAACyB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,WAAW,CAAC,CAAC;MACnE;IACF,CAAC;IAAA,gBANKJ,UAAUA,CAAAO,EAAA;MAAA,OAAAN,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAMf;EAED,IAAMS,gBAAgB;IAAA,IAAAC,KAAA,GAAAf,iBAAA,CAAG,aAAY;MACnC,IAAIpD,QAAQ,CAAC2C,EAAE,KAAK,KAAK,EAAE;QACzB,IAAI,CAACb,YAAY,EAAE;UACjB,IAAI;YACF,IAAIZ,YAAY,CAACmB,OAAO,EAAE;cACxB,IAAM+B,OAAO,GAAGlD,YAAY,CAACmB,OAAc;cAC3C,IAAI+B,OAAO,CAACC,iBAAiB,EAAE;gBAC7B,MAAMD,OAAO,CAACC,iBAAiB,CAAC,CAAC;cACnC,CAAC,MAAM,IAAID,OAAO,CAACE,uBAAuB,EAAE;gBAC1C,MAAMF,OAAO,CAACE,uBAAuB,CAAC,CAAC;cACzC,CAAC,MAAM,IAAIF,OAAO,CAACG,mBAAmB,EAAE;gBACtC,MAAMH,OAAO,CAACG,mBAAmB,CAAC,CAAC;cACrC;YACF;UACF,CAAC,CAAC,OAAOC,KAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;UAChE;QACF,CAAC,MAAM;UACL,IAAI;YACF,IAAI/B,QAAQ,CAACiC,cAAc,EAAE;cAC3B,MAAMjC,QAAQ,CAACiC,cAAc,CAAC,CAAC;YACjC,CAAC,MAAM,IAAKjC,QAAQ,CAASkC,oBAAoB,EAAE;cACjD,MAAOlC,QAAQ,CAASkC,oBAAoB,CAAC,CAAC;YAChD,CAAC,MAAM,IAAKlC,QAAQ,CAASmC,gBAAgB,EAAE;cAC7C,MAAOnC,QAAQ,CAASmC,gBAAgB,CAAC,CAAC;YAC5C;UACF,CAAC,CAAC,OAAOJ,KAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;UAC9D;QACF;MACF,CAAC,MAAM;QACL,IAAI1C,YAAY,EAAE;UAChB,MAAM1B,iBAAiB,CAACyE,SAAS,CAACzE,iBAAiB,CAAC0E,eAAe,CAACC,QAAQ,CAAC;QAC/E,CAAC,MAAM;UACL,MAAM3E,iBAAiB,CAACyE,SAAS,CAACzE,iBAAiB,CAAC0E,eAAe,CAACE,SAAS,CAAC;QAChF;MACF;MACAjD,eAAe,CAAC,CAACD,YAAY,CAAC;IAChC,CAAC;IAAA,gBAtCKoC,gBAAgBA,CAAA;MAAA,OAAAC,KAAA,CAAAX,KAAA,OAAAC,SAAA;IAAA;EAAA,GAsCrB;EAED,IAAMwB,UAAU,GAAG,SAAbA,UAAUA,CAAIC,YAAoB,EAAK;IAC3C,IAAMC,YAAY,GAAGpB,IAAI,CAACqB,KAAK,CAACF,YAAY,GAAG,IAAI,CAAC;IACpD,IAAMG,OAAO,GAAGtB,IAAI,CAACqB,KAAK,CAACD,YAAY,GAAG,EAAE,CAAC;IAC7C,IAAMG,OAAO,GAAGH,YAAY,GAAG,EAAE;IACjC,OAAO,GAAGE,OAAO,IAAIC,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;EAC5D,CAAC;EAED,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;IAC/B9D,eAAe,CAAC,IAAI,CAAC;IACrB,IAAIS,kBAAkB,CAACC,OAAO,EAAE;MAC9BE,YAAY,CAACH,kBAAkB,CAACC,OAAO,CAAC;IAC1C;IACA,IAAIf,MAAM,CAAC+B,SAAS,EAAE;MACpBjB,kBAAkB,CAACC,OAAO,GAAGqD,UAAU,CAAC,YAAM;QAC5C/D,eAAe,CAAC,KAAK,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IACV;EACF,CAAC;EAED,IAAMgE,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIC,KAAU,EAAK;IAC7C,IAAI3E,QAAQ,CAACoB,OAAO,IAAIf,MAAM,CAAC2B,cAAc,EAAE;MAC7C,IAAM4C,gBAAgB,GAAGD,KAAK,CAACE,aAAa,CAACC,WAAW;MACxD,IAAMC,aAAa,GAAGJ,KAAK,CAACK,WAAW,CAACC,OAAO;MAC/C,IAAMC,UAAU,GAAGH,aAAa,GAAGH,gBAAgB;MACnD,IAAM/B,WAAW,GAAGxC,MAAM,CAAC2B,cAAc,GAAGkD,UAAU;MACtDlF,QAAQ,CAACoB,OAAO,CAACC,gBAAgB,CAACwB,WAAW,CAAC;IAChD;EACF,CAAC;EAED,OACEtD,KAAA,CAACZ,IAAI;IACHwG,GAAG,EAAElF,YAAa;IAClBmF,KAAK,EAAE,CAACC,MAAM,CAACC,SAAS,EAAEzE,YAAY,IAAIwE,MAAM,CAACE,UAAU,CAAE;IAC7DC,YAAY,EAAEhB,kBAAmB;IACjCiB,YAAY,EAAE,SAAdA,YAAYA,CAAA;MAAA,OAAQ/E,eAAe,CAAC,IAAI,CAAC;IAAA,CAAC;IAC1CgF,YAAY,EAAE,SAAdA,YAAYA,CAAA;MAAA,OAAQrF,MAAM,CAAC+B,SAAS,IAAI1B,eAAe,CAAC,KAAK,CAAC;IAAA,CAAC;IAAAiF,QAAA,GAE/DtG,IAAA,CAACL,KAAK;MACJmG,GAAG,EAAEnF,QAAS;MACdoF,KAAK,EAAE,CAACC,MAAM,CAACO,KAAK,EAAE/E,YAAY,IAAIwE,MAAM,CAACQ,eAAe,CAAE;MAC9DC,MAAM,EAAE;QAAEC,GAAG,EAAErG;MAAS,CAAE;MAC1BsG,iBAAiB,EAAEjH,QAAQ,CAAC2C,EAAE,KAAK,KAAM;MACzCuE,UAAU,EAAEpF,YAAY,GAAG5B,UAAU,CAACiH,OAAO,GAAGjH,UAAU,CAACkH,KAAM;MACjEC,sBAAsB,EAAEvE,0BAA2B;MACnDwE,OAAO,EAAE,KAAM;MACfC,MAAM,EAAE,GAAI;MACZC,IAAI,EAAEtF,aAAc;MACpBuF,UAAU,EAAE;IAAM,CACnB,CAAC,EAED/F,YAAY,IAAI1B,QAAQ,CAAC2C,EAAE,KAAK,KAAK,IACpCnC,KAAA,CAACZ,IAAI;MAACyG,KAAK,EAAE,CAACC,MAAM,CAACoB,QAAQ,EAAE5F,YAAY,IAAIwE,MAAM,CAACqB,kBAAkB,CAAE;MAAAf,QAAA,GACxEtG,IAAA,CAACP,SAAS;QAACsG,KAAK,EAAEC,MAAM,CAACsB,oBAAqB;QAACC,OAAO,EAAElC,sBAAuB;QAAAiB,QAAA,EAC7EtG,IAAA,CAACV,IAAI;UAACyG,KAAK,EAAEC,MAAM,CAACwB,WAAY;UAAAlB,QAAA,EAC9BtG,IAAA,CAACV,IAAI;YACHyG,KAAK,EAAE,CACLC,MAAM,CAACyB,YAAY,EACnB;cACEC,KAAK,EAAE,GACJ1G,MAAM,CAAC0B,cAAc,GAAG1B,MAAM,CAAC2B,cAAc,GAAI,GAAG,IAAI,CAAC;YAE9D,CAAC;UACD,CACH;QAAC,CACE;MAAC,CACE,CAAC,EAEZzC,KAAA,CAACZ,IAAI;QAACyG,KAAK,EAAEC,MAAM,CAAC2B,WAAY;QAAArB,QAAA,GAC9BpG,KAAA,CAACZ,IAAI;UAACyG,KAAK,EAAEC,MAAM,CAAC4B,YAAa;UAAAtB,QAAA,GAC/BtG,IAAA,CAACP,SAAS;YAAC8H,OAAO,EAAE3E,UAAW;YAACmD,KAAK,EAAEC,MAAM,CAAC6B,aAAc;YAAAvB,QAAA,EAC1DtG,IAAA,CAACH,OAAO;cACNiI,IAAI,EAAE9G,MAAM,CAAC+B,SAAS,GAAG,OAAO,GAAG,MAAO;cAC1CgF,IAAI,EAAE,EAAG;cACTC,KAAK,EAAC;YAAO,CACd;UAAC,CACO,CAAC,EAEZhI,IAAA,CAACP,SAAS;YAAC8H,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQnE,UAAU,CAAC,KAAK,CAAC;YAAA,CAAC;YAAC2C,KAAK,EAAEC,MAAM,CAAC6B,aAAc;YAAAvB,QAAA,EACvEtG,IAAA,CAACH,OAAO;cAACiI,IAAI,EAAC,QAAQ;cAACC,IAAI,EAAE,EAAG;cAACC,KAAK,EAAC;YAAO,CAAE;UAAC,CACxC,CAAC,EAEZhI,IAAA,CAACP,SAAS;YAAC8H,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQnE,UAAU,CAAC,IAAI,CAAC;YAAA,CAAC;YAAC2C,KAAK,EAAEC,MAAM,CAAC6B,aAAc;YAAAvB,QAAA,EACtEtG,IAAA,CAACH,OAAO;cAACiI,IAAI,EAAC,cAAc;cAACC,IAAI,EAAE,EAAG;cAACC,KAAK,EAAC;YAAO,CAAE;UAAC,CAC9C,CAAC,EAEZ9H,KAAA,CAACX,IAAI;YAACwG,KAAK,EAAEC,MAAM,CAACiC,QAAS;YAAA3B,QAAA,GAC1B3B,UAAU,CAAC3D,MAAM,CAAC0B,cAAc,IAAI,CAAC,CAAC,EAAC,IAAE,EAAC,GAAG,EAC7CiC,UAAU,CAAC3D,MAAM,CAAC2B,cAAc,IAAI,CAAC,CAAC;UAAA,CACnC,CAAC;QAAA,CACH,CAAC,EAEPzC,KAAA,CAACZ,IAAI;UAACyG,KAAK,EAAEC,MAAM,CAACkC,aAAc;UAAA5B,QAAA,GAChCtG,IAAA,CAACP,SAAS;YACR8H,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQ1F,gBAAgB,CAAC,UAAAsG,KAAK;gBAAA,OAAKA,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;cAAA,CAAC,CAAC;YAAA,CAAC;YAClEpC,KAAK,EAAEC,MAAM,CAAC6B,aAAc;YAAAvB,QAAA,EAE5BpG,KAAA,CAACX,IAAI;cAACwG,KAAK,EAAEC,MAAM,CAACoC,SAAU;cAAA9B,QAAA,GAAE1E,aAAa,EAAC,GAAC;YAAA,CAAM;UAAC,CAC7C,CAAC,EAEZ5B,IAAA,CAACP,SAAS;YAAC8H,OAAO,EAAE3D,gBAAiB;YAACmC,KAAK,EAAEC,MAAM,CAAC6B,aAAc;YAAAvB,QAAA,EAChEtG,IAAA,CAACH,OAAO;cACNiI,IAAI,EAAEtG,YAAY,GAAG,UAAU,GAAG,UAAW;cAC7CuG,IAAI,EAAE,EAAG;cACTC,KAAK,EAAC;YAAO,CACd;UAAC,CACO,CAAC;QAAA,CACR,CAAC;MAAA,CACH,CAAC;IAAA,CACH,CACP;EAAA,CACG,CAAC;AAEX,CAAC;AAED,IAAMhC,MAAM,GAAGxG,UAAU,CAAC6I,MAAM,CAAC;EAC/BpC,SAAS,EAAE;IACTqC,eAAe,EAAE,MAAM;IACvBC,YAAY,EAAE,EAAE;IAChBC,QAAQ,EAAE,QAAQ;IAClBC,QAAQ,EAAE,UAAU;IACpBf,KAAK,EAAE;EACT,CAAC;EACDxB,UAAU,EAAE;IACVuC,QAAQ,EAAE,OAAO;IACjBC,GAAG,EAAE,CAAC;IACNC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,CAAC;IACTC,MAAM,EAAE,IAAI;IACZR,eAAe,EAAE,MAAM;IACvBC,YAAY,EAAE;EAChB,CAAC;EACDhC,KAAK,EAAE;IACLmB,KAAK,EAAE,MAAM;IACbqB,WAAW,EAAE,EAAE,GAAG;EACpB,CAAC;EACDvC,eAAe,EAAE;IACfkB,KAAK,EAAE,MAAM;IACbsB,MAAM,EAAE,MAAM;IACdD,WAAW,EAAEE;EACf,CAAC;EACD7B,QAAQ,EAAE;IACRqB,QAAQ,EAAE,UAAU;IACpBI,MAAM,EAAE,CAAC;IACTF,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,CAAC;IACRN,eAAe,EAAE,oBAAoB;IACrCY,OAAO,EAAE;EACX,CAAC;EACD7B,kBAAkB,EAAE;IAClB6B,OAAO,EAAE;EACX,CAAC;EACD5B,oBAAoB,EAAE;IACpBI,KAAK,EAAE,MAAM;IACbsB,MAAM,EAAE,EAAE;IACVG,cAAc,EAAE,QAAQ;IACxBC,MAAM,EAAE;EACV,CAAC;EACD5B,WAAW,EAAE;IACXwB,MAAM,EAAE,CAAC;IACTV,eAAe,EAAE,0BAA0B;IAC3CC,YAAY,EAAE;EAChB,CAAC;EACDd,YAAY,EAAE;IACZuB,MAAM,EAAE,MAAM;IACdV,eAAe,EAAE,SAAS;IAC1BC,YAAY,EAAE;EAChB,CAAC;EACDZ,WAAW,EAAE;IACX0B,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBH,cAAc,EAAE,eAAe;IAC/BI,SAAS,EAAE;EACb,CAAC;EACD3B,YAAY,EAAE;IACZyB,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE;EACd,CAAC;EACDpB,aAAa,EAAE;IACbmB,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE;EACd,CAAC;EACDzB,aAAa,EAAE;IACb2B,WAAW,EAAE,EAAE;IACfN,OAAO,EAAE,CAAC;IACVX,YAAY,EAAE,CAAC;IACfD,eAAe,EAAE;EACnB,CAAC;EACDL,QAAQ,EAAE;IACRD,KAAK,EAAE,OAAO;IACdyB,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACDtB,SAAS,EAAE;IACTJ,KAAK,EAAE,OAAO;IACdyB,QAAQ,EAAE,EAAE;IACZE,UAAU,EAAE;EACd;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}