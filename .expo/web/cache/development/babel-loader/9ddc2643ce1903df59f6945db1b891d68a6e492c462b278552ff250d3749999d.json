{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nvar STRAPI_URL = process.env.STRAPI_URL || 'http://localhost:1337';\nvar API_TOKEN = process.env.STRAPI_API_TOKEN;\nvar strapiApi = axios.create({\n  baseURL: `${STRAPI_URL}/api`,\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${API_TOKEN}`\n  }\n});\nexport var fetchCourses = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var response = yield strapiApi.get('/courses?populate=*');\n      return response.data.data;\n    } catch (error) {\n      console.error('Error fetching courses:', error);\n      throw error;\n    }\n  });\n  return function fetchCourses() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var fetchCourseById = function () {\n  var _ref2 = _asyncToGenerator(function* (id) {\n    try {\n      var response = yield strapiApi.get(`/courses/${id}?populate=*`);\n      return response.data.data;\n    } catch (error) {\n      console.error(`Error fetching course ${id}:`, error);\n      throw error;\n    }\n  });\n  return function fetchCourseById(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var fetchLessons = function () {\n  var _ref3 = _asyncToGenerator(function* (courseId) {\n    try {\n      var response = yield strapiApi.get(`/lessons?filters[course]=${courseId}&populate=*`);\n      return response.data.data;\n    } catch (error) {\n      console.error('Error fetching lessons:', error);\n      throw error;\n    }\n  });\n  return function fetchLessons(_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var fetchResources = function () {\n  var _ref4 = _asyncToGenerator(function* (lessonId) {\n    try {\n      var response = yield strapiApi.get(`/resources?filters[lesson]=${lessonId}&populate=*`);\n      return response.data.data;\n    } catch (error) {\n      console.error('Error fetching resources:', error);\n      throw error;\n    }\n  });\n  return function fetchResources(_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var fetchCategories = function () {\n  var _ref5 = _asyncToGenerator(function* () {\n    try {\n      var response = yield strapiApi.get('/categories?populate=*');\n      return response.data.data;\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n      throw error;\n    }\n  });\n  return function fetchCategories() {\n    return _ref5.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","STRAPI_URL","process","env","API_TOKEN","STRAPI_API_TOKEN","strapiApi","create","baseURL","headers","Authorization","fetchCourses","_ref","_asyncToGenerator","response","get","data","error","console","apply","arguments","fetchCourseById","_ref2","id","_x","fetchLessons","_ref3","courseId","_x2","fetchResources","_ref4","lessonId","_x3","fetchCategories","_ref5"],"sources":["f:/Coding/Code/SKiddy V2/src/services/strapi.ts"],"sourcesContent":["import axios from 'axios';\n\nconst STRAPI_URL = process.env.STRAPI_URL || 'http://localhost:1337';\nconst API_TOKEN = process.env.STRAPI_API_TOKEN;\n\nconst strapiApi = axios.create({\n  baseURL: `${STRAPI_URL}/api`,\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${API_TOKEN}`,\n  },\n});\n\nexport const fetchCourses = async () => {\n  try {\n    const response = await strapiApi.get('/courses?populate=*');\n    return response.data.data;\n  } catch (error) {\n    console.error('Error fetching courses:', error);\n    throw error;\n  }\n};\n\nexport const fetchCourseById = async (id: string) => {\n  try {\n    const response = await strapiApi.get(`/courses/${id}?populate=*`);\n    return response.data.data;\n  } catch (error) {\n    console.error(`Error fetching course ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const fetchLessons = async (courseId: string) => {\n  try {\n    const response = await strapiApi.get(`/lessons?filters[course]=${courseId}&populate=*`);\n    return response.data.data;\n  } catch (error) {\n    console.error('Error fetching lessons:', error);\n    throw error;\n  }\n};\n\nexport const fetchResources = async (lessonId: string) => {\n  try {\n    const response = await strapiApi.get(`/resources?filters[lesson]=${lessonId}&populate=*`);\n    return response.data.data;\n  } catch (error) {\n    console.error('Error fetching resources:', error);\n    throw error;\n  }\n};\n\nexport const fetchCategories = async () => {\n  try {\n    const response = await strapiApi.get('/categories?populate=*');\n    return response.data.data;\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n    throw error;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}