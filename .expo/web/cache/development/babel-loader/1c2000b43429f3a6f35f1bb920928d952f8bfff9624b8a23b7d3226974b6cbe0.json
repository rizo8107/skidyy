{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Video, ResizeMode } from 'expo-av';\nimport { Feather } from '@expo/vector-icons';\nimport * as ScreenOrientation from 'expo-screen-orientation';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nexport var VideoPlayer = function VideoPlayer(_ref) {\n  var videoUrl = _ref.videoUrl,\n    drmConfig = _ref.drmConfig,\n    onComplete = _ref.onComplete,\n    onProgress = _ref.onProgress,\n    onTimeUpdate = _ref.onTimeUpdate,\n    _ref$initialProgress = _ref.initialProgress,\n    initialProgress = _ref$initialProgress === void 0 ? 0 : _ref$initialProgress,\n    _onError = _ref.onError;\n  var videoRef = useRef(null);\n  var containerRef = useRef(null);\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    status = _useState2[0],\n    setStatus = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showControls = _useState4[0],\n    setShowControls = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isFullscreen = _useState6[0],\n    setIsFullscreen = _useState6[1];\n  var _useState7 = useState(1.0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    playbackSpeed = _useState8[0],\n    setPlaybackSpeed = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    error = _useState10[0],\n    setError = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isPipActive = _useState12[0],\n    setIsPipActive = _useState12[1];\n  var controlsTimeoutRef = useRef();\n  useEffect(function () {\n    var setupDRM = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        if (drmConfig && videoRef.current) {\n          try {\n            var drmSettings = _objectSpread(_objectSpread({\n              headers: _objectSpread({\n                'Authorization': `Bearer ${yield getDRMLicense()}`\n              }, drmConfig.headers)\n            }, drmConfig.type === 'widevine' && {\n              widevine: {\n                licenseUrl: drmConfig.licenseUrl\n              }\n            }), drmConfig.type === 'fairplay' && {\n              fairplay: {\n                licenseUrl: drmConfig.licenseUrl,\n                certificateUrl: drmConfig.certificateUrl\n              }\n            });\n            yield videoRef.current.loadAsync({\n              uri: videoUrl\n            }, {\n              drmSettings: drmSettings\n            }, false);\n          } catch (err) {\n            var errorMessage = 'Failed to initialize DRM: ' + err.message;\n            setError(errorMessage);\n            _onError == null ? void 0 : _onError(errorMessage);\n          }\n        }\n      });\n      return function setupDRM() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    setupDRM();\n  }, [drmConfig, videoUrl]);\n  useEffect(function () {\n    if (videoRef.current) {\n      videoRef.current.setPositionAsync(initialProgress * 1000);\n    }\n  }, [initialProgress]);\n  useEffect(function () {\n    return function () {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, []);\n  useEffect(function () {\n    var handleFullscreenChange = function handleFullscreenChange() {\n      if (!document.fullscreenElement && isFullscreen) {\n        setIsFullscreen(false);\n      }\n    };\n    if (Platform.OS === 'web') {\n      document.addEventListener('fullscreenchange', handleFullscreenChange);\n      return function () {\n        document.removeEventListener('fullscreenchange', handleFullscreenChange);\n      };\n    }\n  }, [isFullscreen]);\n  var handlePlaybackStatusUpdate = function handlePlaybackStatusUpdate(status) {\n    setStatus(status);\n    if (status.error) {\n      var errorMessage = `Playback error: ${status.error}`;\n      setError(errorMessage);\n      _onError == null ? void 0 : _onError(errorMessage);\n      return;\n    }\n    if (status.didJustFinish && onComplete) {\n      onComplete();\n    }\n    if (status.positionMillis && status.durationMillis && onProgress) {\n      onProgress(status.positionMillis / status.durationMillis);\n    }\n    if (status.positionMillis && onTimeUpdate) {\n      onTimeUpdate(status.positionMillis / 1000);\n    }\n  };\n  var togglePlay = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (videoRef.current) {\n        if (status.isPlaying) {\n          yield videoRef.current.pauseAsync();\n        } else {\n          yield videoRef.current.playAsync();\n        }\n      }\n    });\n    return function togglePlay() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleSeek = function () {\n    var _ref4 = _asyncToGenerator(function* (forward) {\n      if (videoRef.current && status.positionMillis) {\n        var seekAmount = 10000;\n        var newPosition = status.positionMillis + (forward ? seekAmount : -seekAmount);\n        yield videoRef.current.setPositionAsync(Math.max(0, newPosition));\n      }\n    });\n    return function handleSeek(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var toggleFullscreen = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      if (Platform.OS === 'web') {\n        if (!isFullscreen) {\n          try {\n            if (containerRef.current) {\n              var element = containerRef.current;\n              if (element.requestFullscreen) {\n                yield element.requestFullscreen();\n              } else if (element.webkitRequestFullscreen) {\n                yield element.webkitRequestFullscreen();\n              } else if (element.msRequestFullscreen) {\n                yield element.msRequestFullscreen();\n              }\n            }\n          } catch (error) {\n            console.error('Error attempting to enable fullscreen:', error);\n          }\n        } else {\n          try {\n            if (document.exitFullscreen) {\n              yield document.exitFullscreen();\n            } else if (document.webkitExitFullscreen) {\n              yield document.webkitExitFullscreen();\n            } else if (document.msExitFullscreen) {\n              yield document.msExitFullscreen();\n            }\n          } catch (error) {\n            console.error('Error attempting to exit fullscreen:', error);\n          }\n        }\n      } else {\n        if (isFullscreen) {\n          yield ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.PORTRAIT);\n        } else {\n          yield ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\n        }\n      }\n      setIsFullscreen(!isFullscreen);\n    });\n    return function toggleFullscreen() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var togglePictureInPicture = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      if (Platform.OS === 'web' && document.pictureInPictureEnabled) {\n        try {\n          if (!isPipActive) {\n            var _videoRef$current, _videoRef$current$web;\n            yield (_videoRef$current = videoRef.current) == null ? void 0 : (_videoRef$current$web = _videoRef$current.webVideoRef) == null ? void 0 : _videoRef$current$web.requestPictureInPicture();\n            setIsPipActive(true);\n          } else {\n            yield document.exitPictureInPicture();\n            setIsPipActive(false);\n          }\n        } catch (err) {\n          var errorMessage = 'Picture-in-Picture failed: ' + err.message;\n          setError(errorMessage);\n          _onError == null ? void 0 : _onError(errorMessage);\n        }\n      }\n    });\n    return function togglePictureInPicture() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var changePlaybackSpeed = function changePlaybackSpeed() {\n    var speeds = [0.5, 1.0, 1.5, 2.0];\n    var currentIndex = speeds.indexOf(playbackSpeed);\n    var nextIndex = (currentIndex + 1) % speeds.length;\n    var newSpeed = speeds[nextIndex];\n    setPlaybackSpeed(newSpeed);\n    if (videoRef.current) {\n      videoRef.current.setRateAsync(newSpeed, true);\n    }\n  };\n  var formatTime = function formatTime(milliseconds) {\n    var totalSeconds = Math.floor(milliseconds / 1000);\n    var minutes = Math.floor(totalSeconds / 60);\n    var seconds = totalSeconds % 60;\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  var handleControlsShow = function handleControlsShow() {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    if (status.isPlaying) {\n      controlsTimeoutRef.current = setTimeout(function () {\n        setShowControls(false);\n      }, 3000);\n    }\n  };\n  var handleProgressBarPress = function handleProgressBarPress(event) {\n    if (videoRef.current && status.durationMillis) {\n      var progressBarWidth = event.currentTarget.offsetWidth;\n      var clickPosition = event.nativeEvent.offsetX;\n      var percentage = clickPosition / progressBarWidth;\n      var newPosition = status.durationMillis * percentage;\n      videoRef.current.setPositionAsync(newPosition);\n    }\n  };\n  return _jsx(View, {\n    ref: containerRef,\n    style: [styles.container, isFullscreen && styles.fullscreen],\n    children: error ? _jsxs(View, {\n      style: styles.errorContainer,\n      children: [_jsx(Text, {\n        style: styles.errorText,\n        children: error\n      }), _jsx(Text, {\n        style: styles.errorSubtext,\n        children: \"Please check your connection or contact support.\"\n      })]\n    }) : _jsxs(_Fragment, {\n      children: [_jsx(Video, {\n        ref: videoRef,\n        style: styles.video,\n        source: {\n          uri: videoUrl\n        },\n        resizeMode: ResizeMode.CONTAIN,\n        useNativeControls: false,\n        onPlaybackStatusUpdate: handlePlaybackStatusUpdate,\n        onError: function onError(error) {\n          var errorMessage = `Video playback error: ${error}`;\n          setError(errorMessage);\n          _onError == null ? void 0 : _onError(errorMessage);\n        }\n      }), showControls && _jsxs(View, {\n        style: styles.controls,\n        children: [_jsxs(View, {\n          style: styles.controlsRow,\n          children: [_jsx(Pressable, {\n            onPress: togglePlay,\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: status.isPlaying ? 'pause' : 'play',\n              size: 24,\n              color: \"white\"\n            })\n          }), _jsx(Pressable, {\n            onPress: function onPress() {\n              return handleSeek(false);\n            },\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: \"rewind\",\n              size: 24,\n              color: \"white\"\n            })\n          }), _jsx(Pressable, {\n            onPress: function onPress() {\n              return handleSeek(true);\n            },\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: \"fast-forward\",\n              size: 24,\n              color: \"white\"\n            })\n          }), _jsx(Pressable, {\n            onPress: changePlaybackSpeed,\n            style: styles.controlButton,\n            children: _jsxs(Text, {\n              style: styles.speedText,\n              children: [playbackSpeed, \"x\"]\n            })\n          }), Platform.OS === 'web' && _jsx(Pressable, {\n            onPress: togglePictureInPicture,\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: \"minimize-2\",\n              size: 24,\n              color: \"white\"\n            })\n          }), _jsx(Pressable, {\n            onPress: toggleFullscreen,\n            style: styles.controlButton,\n            children: _jsx(Feather, {\n              name: isFullscreen ? 'minimize' : 'maximize',\n              size: 24,\n              color: \"white\"\n            })\n          })]\n        }), _jsx(Pressable, {\n          style: styles.progressBarContainer,\n          onPress: handleProgressBarPress,\n          children: _jsx(View, {\n            style: styles.progressBar,\n            children: _jsx(View, {\n              style: [styles.progressFill, {\n                width: `${status.positionMillis / status.durationMillis * 100 || 0}%`\n              }]\n            })\n          })\n        }), _jsx(View, {\n          style: styles.timeTextContainer,\n          children: _jsxs(Text, {\n            style: styles.timeText,\n            children: [formatTime(status.positionMillis || 0), \" /\", ' ', formatTime(status.durationMillis || 0)]\n          })\n        })]\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#000',\n    borderRadius: 12,\n    overflow: 'hidden',\n    position: 'relative',\n    width: '100%'\n  },\n  fullscreen: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 9999,\n    backgroundColor: '#000',\n    borderRadius: 0\n  },\n  video: {\n    width: '100%',\n    aspectRatio: 16 / 9\n  },\n  fullscreenVideo: {\n    width: '100%',\n    height: '100%',\n    aspectRatio: undefined\n  },\n  controls: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    padding: 16\n  },\n  fullscreenControls: {\n    padding: 24\n  },\n  progressBarContainer: {\n    width: '100%',\n    height: 20,\n    justifyContent: 'center',\n    cursor: 'pointer'\n  },\n  progressBar: {\n    height: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: 2\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#7C3AED',\n    borderRadius: 2\n  },\n  controlsRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 8\n  },\n  leftControls: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  rightControls: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  controlButton: {\n    marginRight: 16,\n    padding: 8,\n    borderRadius: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)'\n  },\n  timeTextContainer: {\n    marginTop: 8\n  },\n  timeText: {\n    color: 'white',\n    fontSize: 14,\n    textAlign: 'center'\n  },\n  speedText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold'\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  errorText: {\n    color: '#ff4444',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 8\n  },\n  errorSubtext: {\n    color: '#999',\n    fontSize: 14,\n    textAlign: 'center'\n  }\n});","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","StyleSheet","Pressable","Platform","Video","ResizeMode","Feather","ScreenOrientation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoPlayer","_ref","videoUrl","drmConfig","onComplete","onProgress","onTimeUpdate","_ref$initialProgress","initialProgress","onError","videoRef","containerRef","_useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","showControls","setShowControls","_useState5","_useState6","isFullscreen","setIsFullscreen","_useState7","_useState8","playbackSpeed","setPlaybackSpeed","_useState9","_useState10","error","setError","_useState11","_useState12","isPipActive","setIsPipActive","controlsTimeoutRef","setupDRM","_ref2","_asyncToGenerator","current","drmSettings","_objectSpread","headers","getDRMLicense","type","widevine","licenseUrl","fairplay","certificateUrl","loadAsync","uri","err","errorMessage","message","apply","arguments","setPositionAsync","clearTimeout","handleFullscreenChange","document","fullscreenElement","OS","addEventListener","removeEventListener","handlePlaybackStatusUpdate","didJustFinish","positionMillis","durationMillis","togglePlay","_ref3","isPlaying","pauseAsync","playAsync","handleSeek","_ref4","forward","seekAmount","newPosition","Math","max","_x","toggleFullscreen","_ref5","element","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","console","exitFullscreen","webkitExitFullscreen","msExitFullscreen","lockAsync","OrientationLock","PORTRAIT","LANDSCAPE","togglePictureInPicture","_ref6","pictureInPictureEnabled","_videoRef$current","_videoRef$current$web","webVideoRef","requestPictureInPicture","exitPictureInPicture","changePlaybackSpeed","speeds","currentIndex","indexOf","nextIndex","length","newSpeed","setRateAsync","formatTime","milliseconds","totalSeconds","floor","minutes","seconds","toString","padStart","handleControlsShow","setTimeout","handleProgressBarPress","event","progressBarWidth","currentTarget","offsetWidth","clickPosition","nativeEvent","offsetX","percentage","ref","style","styles","container","fullscreen","children","errorContainer","errorText","errorSubtext","video","source","resizeMode","CONTAIN","useNativeControls","onPlaybackStatusUpdate","controls","controlsRow","onPress","controlButton","name","size","color","speedText","progressBarContainer","progressBar","progressFill","width","timeTextContainer","timeText","create","backgroundColor","borderRadius","overflow","position","top","left","right","bottom","zIndex","aspectRatio","fullscreenVideo","height","undefined","padding","fullscreenControls","justifyContent","cursor","flexDirection","alignItems","marginTop","leftControls","rightControls","marginRight","fontSize","textAlign","fontWeight","flex","marginBottom"],"sources":["d:/Code/SKiddy V2/src/components/video/VideoPlayer.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { View, Text, StyleSheet, Pressable, Platform } from 'react-native';\nimport { Video, ResizeMode } from 'expo-av';\nimport { Feather } from '@expo/vector-icons';\nimport * as ScreenOrientation from 'expo-screen-orientation';\n\ninterface VideoPlayerProps {\n  videoUrl: string;\n  drmConfig?: {\n    type: 'widevine' | 'fairplay' | 'playready';\n    licenseUrl: string;\n    certificateUrl?: string;\n    headers?: Record<string, string>;\n  };\n  onComplete?: () => void;\n  onProgress?: (progress: number) => void;\n  onTimeUpdate?: (time: number) => void;\n  initialProgress?: number;\n  onError?: (error: string) => void;\n}\n\nexport const VideoPlayer = ({\n  videoUrl,\n  drmConfig,\n  onComplete,\n  onProgress,\n  onTimeUpdate,\n  initialProgress = 0,\n  onError,\n}: VideoPlayerProps) => {\n  const videoRef = useRef<Video>(null);\n  const containerRef = useRef<View>(null);\n  const [status, setStatus] = useState<any>({});\n  const [showControls, setShowControls] = useState(true);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [playbackSpeed, setPlaybackSpeed] = useState(1.0);\n  const [error, setError] = useState<string | null>(null);\n  const [isPipActive, setIsPipActive] = useState(false);\n  const controlsTimeoutRef = useRef<NodeJS.Timeout>();\n\n  useEffect(() => {\n    const setupDRM = async () => {\n      if (drmConfig && videoRef.current) {\n        try {\n          // Configure DRM settings\n          const drmSettings = {\n            headers: {\n              'Authorization': `Bearer ${await getDRMLicense()}`,\n              ...drmConfig.headers,\n            },\n            ...(drmConfig.type === 'widevine' && {\n              widevine: {\n                licenseUrl: drmConfig.licenseUrl,\n              },\n            }),\n            ...(drmConfig.type === 'fairplay' && {\n              fairplay: {\n                licenseUrl: drmConfig.licenseUrl,\n                certificateUrl: drmConfig.certificateUrl,\n              },\n            }),\n          };\n\n          await videoRef.current.loadAsync(\n            { uri: videoUrl },\n            { drmSettings },\n            false\n          );\n        } catch (err: any) {\n          const errorMessage = 'Failed to initialize DRM: ' + err.message;\n          setError(errorMessage);\n          onError?.(errorMessage);\n        }\n      }\n    };\n\n    setupDRM();\n  }, [drmConfig, videoUrl]);\n\n  useEffect(() => {\n    if (videoRef.current) {\n      videoRef.current.setPositionAsync(initialProgress * 1000);\n    }\n  }, [initialProgress]);\n\n  useEffect(() => {\n    return () => {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      if (!document.fullscreenElement && isFullscreen) {\n        setIsFullscreen(false);\n      }\n    };\n\n    if (Platform.OS === 'web') {\n      document.addEventListener('fullscreenchange', handleFullscreenChange);\n      return () => {\n        document.removeEventListener('fullscreenchange', handleFullscreenChange);\n      };\n    }\n  }, [isFullscreen]);\n\n  const handlePlaybackStatusUpdate = (status: any) => {\n    setStatus(status);\n    if (status.error) {\n      const errorMessage = `Playback error: ${status.error}`;\n      setError(errorMessage);\n      onError?.(errorMessage);\n      return;\n    }\n\n    if (status.didJustFinish && onComplete) {\n      onComplete();\n    }\n    if (status.positionMillis && status.durationMillis && onProgress) {\n      onProgress(status.positionMillis / status.durationMillis);\n    }\n    if (status.positionMillis && onTimeUpdate) {\n      onTimeUpdate(status.positionMillis / 1000);\n    }\n  };\n\n  const togglePlay = async () => {\n    if (videoRef.current) {\n      if (status.isPlaying) {\n        await videoRef.current.pauseAsync();\n      } else {\n        await videoRef.current.playAsync();\n      }\n    }\n  };\n\n  const handleSeek = async (forward: boolean) => {\n    if (videoRef.current && status.positionMillis) {\n      const seekAmount = 10000;\n      const newPosition = status.positionMillis + (forward ? seekAmount : -seekAmount);\n      await videoRef.current.setPositionAsync(Math.max(0, newPosition));\n    }\n  };\n\n  const toggleFullscreen = async () => {\n    if (Platform.OS === 'web') {\n      if (!isFullscreen) {\n        try {\n          if (containerRef.current) {\n            const element = containerRef.current as any;\n            if (element.requestFullscreen) {\n              await element.requestFullscreen();\n            } else if (element.webkitRequestFullscreen) {\n              await element.webkitRequestFullscreen();\n            } else if (element.msRequestFullscreen) {\n              await element.msRequestFullscreen();\n            }\n          }\n        } catch (error) {\n          console.error('Error attempting to enable fullscreen:', error);\n        }\n      } else {\n        try {\n          if (document.exitFullscreen) {\n            await document.exitFullscreen();\n          } else if ((document as any).webkitExitFullscreen) {\n            await (document as any).webkitExitFullscreen();\n          } else if ((document as any).msExitFullscreen) {\n            await (document as any).msExitFullscreen();\n          }\n        } catch (error) {\n          console.error('Error attempting to exit fullscreen:', error);\n        }\n      }\n    } else {\n      if (isFullscreen) {\n        await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.PORTRAIT);\n      } else {\n        await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\n      }\n    }\n    setIsFullscreen(!isFullscreen);\n  };\n\n  const togglePictureInPicture = async () => {\n    if (Platform.OS === 'web' && document.pictureInPictureEnabled) {\n      try {\n        if (!isPipActive) {\n          await (videoRef.current as any)?.webVideoRef?.requestPictureInPicture();\n          setIsPipActive(true);\n        } else {\n          await document.exitPictureInPicture();\n          setIsPipActive(false);\n        }\n      } catch (err: any) {\n        const errorMessage = 'Picture-in-Picture failed: ' + err.message;\n        setError(errorMessage);\n        onError?.(errorMessage);\n      }\n    }\n  };\n\n  const changePlaybackSpeed = () => {\n    const speeds = [0.5, 1.0, 1.5, 2.0];\n    const currentIndex = speeds.indexOf(playbackSpeed);\n    const nextIndex = (currentIndex + 1) % speeds.length;\n    const newSpeed = speeds[nextIndex];\n    setPlaybackSpeed(newSpeed);\n    if (videoRef.current) {\n      videoRef.current.setRateAsync(newSpeed, true);\n    }\n  };\n\n  const formatTime = (milliseconds: number) => {\n    const totalSeconds = Math.floor(milliseconds / 1000);\n    const minutes = Math.floor(totalSeconds / 60);\n    const seconds = totalSeconds % 60;\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const handleControlsShow = () => {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    if (status.isPlaying) {\n      controlsTimeoutRef.current = setTimeout(() => {\n        setShowControls(false);\n      }, 3000);\n    }\n  };\n\n  const handleProgressBarPress = (event: any) => {\n    if (videoRef.current && status.durationMillis) {\n      const progressBarWidth = event.currentTarget.offsetWidth;\n      const clickPosition = event.nativeEvent.offsetX;\n      const percentage = clickPosition / progressBarWidth;\n      const newPosition = status.durationMillis * percentage;\n      videoRef.current.setPositionAsync(newPosition);\n    }\n  };\n\n  return (\n    <View ref={containerRef} style={[styles.container, isFullscreen && styles.fullscreen]}>\n      {error ? (\n        <View style={styles.errorContainer}>\n          <Text style={styles.errorText}>{error}</Text>\n          <Text style={styles.errorSubtext}>Please check your connection or contact support.</Text>\n        </View>\n      ) : (\n        <>\n          <Video\n            ref={videoRef}\n            style={styles.video}\n            source={{ uri: videoUrl }}\n            resizeMode={ResizeMode.CONTAIN}\n            useNativeControls={false}\n            onPlaybackStatusUpdate={handlePlaybackStatusUpdate}\n            onError={(error) => {\n              const errorMessage = `Video playback error: ${error}`;\n              setError(errorMessage);\n              onError?.(errorMessage);\n            }}\n          />\n          {showControls && (\n            <View style={styles.controls}>\n              <View style={styles.controlsRow}>\n                <Pressable onPress={togglePlay} style={styles.controlButton}>\n                  <Feather name={status.isPlaying ? 'pause' : 'play'} size={24} color=\"white\" />\n                </Pressable>\n                <Pressable onPress={() => handleSeek(false)} style={styles.controlButton}>\n                  <Feather name=\"rewind\" size={24} color=\"white\" />\n                </Pressable>\n                <Pressable onPress={() => handleSeek(true)} style={styles.controlButton}>\n                  <Feather name=\"fast-forward\" size={24} color=\"white\" />\n                </Pressable>\n                <Pressable onPress={changePlaybackSpeed} style={styles.controlButton}>\n                  <Text style={styles.speedText}>{playbackSpeed}x</Text>\n                </Pressable>\n                {Platform.OS === 'web' && (\n                  <Pressable onPress={togglePictureInPicture} style={styles.controlButton}>\n                    <Feather name=\"minimize-2\" size={24} color=\"white\" />\n                  </Pressable>\n                )}\n                <Pressable onPress={toggleFullscreen} style={styles.controlButton}>\n                  <Feather name={isFullscreen ? 'minimize' : 'maximize'} size={24} color=\"white\" />\n                </Pressable>\n              </View>\n              <Pressable style={styles.progressBarContainer} onPress={handleProgressBarPress}>\n                <View style={styles.progressBar}>\n                  <View\n                    style={[\n                      styles.progressFill,\n                      {\n                        width: `${\n                          (status.positionMillis / status.durationMillis) * 100 || 0\n                        }%`,\n                      },\n                    ]}\n                  />\n                </View>\n              </Pressable>\n              <View style={styles.timeTextContainer}>\n                <Text style={styles.timeText}>\n                  {formatTime(status.positionMillis || 0)} /{' '}\n                  {formatTime(status.durationMillis || 0)}\n                </Text>\n              </View>\n            </View>\n          )}\n        </>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#000',\n    borderRadius: 12,\n    overflow: 'hidden',\n    position: 'relative',\n    width: '100%',\n  },\n  fullscreen: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: 9999,\n    backgroundColor: '#000',\n    borderRadius: 0,\n  },\n  video: {\n    width: '100%',\n    aspectRatio: 16 / 9,\n  },\n  fullscreenVideo: {\n    width: '100%',\n    height: '100%',\n    aspectRatio: undefined,\n  },\n  controls: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    padding: 16,\n  },\n  fullscreenControls: {\n    padding: 24,\n  },\n  progressBarContainer: {\n    width: '100%',\n    height: 20,\n    justifyContent: 'center',\n    cursor: 'pointer',\n  },\n  progressBar: {\n    height: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n    borderRadius: 2,\n  },\n  progressFill: {\n    height: '100%',\n    backgroundColor: '#7C3AED',\n    borderRadius: 2,\n  },\n  controlsRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 8,\n  },\n  leftControls: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  rightControls: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  controlButton: {\n    marginRight: 16,\n    padding: 8,\n    borderRadius: 4,\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  },\n  timeTextContainer: {\n    marginTop: 8,\n  },\n  timeText: {\n    color: 'white',\n    fontSize: 14,\n    textAlign: 'center',\n  },\n  speedText: {\n    color: 'white',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  errorText: {\n    color: '#ff4444',\n    fontSize: 16,\n    textAlign: 'center',\n    marginBottom: 8,\n  },\n  errorSubtext: {\n    color: '#999',\n    fontSize: 14,\n    textAlign: 'center',\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}