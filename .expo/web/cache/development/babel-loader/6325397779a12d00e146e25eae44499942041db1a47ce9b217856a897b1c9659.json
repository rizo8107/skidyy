{"ast":null,"code":"import _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _excluded = [\"enabled\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty2(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nimport { State } from \"../../State\";\nimport { DEFAULT_TOUCH_SLOP } from \"../constants\";\nimport { WheelDevice } from \"../interfaces\";\nimport GestureHandler from \"./GestureHandler\";\nvar DEFAULT_MIN_POINTERS = 1;\nvar DEFAULT_MAX_POINTERS = 10;\nvar DEFAULT_MIN_DIST_SQ = DEFAULT_TOUCH_SLOP * DEFAULT_TOUCH_SLOP;\nvar PanGestureHandler = function (_GestureHandler) {\n  function PanGestureHandler() {\n    var _this;\n    _classCallCheck(this, PanGestureHandler);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, PanGestureHandler, [].concat(args));\n    _defineProperty(_this, \"customActivationProperties\", ['activeOffsetXStart', 'activeOffsetXEnd', 'failOffsetXStart', 'failOffsetXEnd', 'activeOffsetYStart', 'activeOffsetYEnd', 'failOffsetYStart', 'failOffsetYEnd', 'minVelocityX', 'minVelocityY', 'minVelocity']);\n    _defineProperty(_this, \"velocityX\", 0);\n    _defineProperty(_this, \"velocityY\", 0);\n    _defineProperty(_this, \"minDistSq\", DEFAULT_MIN_DIST_SQ);\n    _defineProperty(_this, \"activeOffsetXStart\", -Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"activeOffsetXEnd\", Number.MIN_SAFE_INTEGER);\n    _defineProperty(_this, \"failOffsetXStart\", Number.MIN_SAFE_INTEGER);\n    _defineProperty(_this, \"failOffsetXEnd\", Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"activeOffsetYStart\", Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"activeOffsetYEnd\", Number.MIN_SAFE_INTEGER);\n    _defineProperty(_this, \"failOffsetYStart\", Number.MIN_SAFE_INTEGER);\n    _defineProperty(_this, \"failOffsetYEnd\", Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"minVelocityX\", Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"minVelocityY\", Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"minVelocitySq\", Number.MAX_SAFE_INTEGER);\n    _defineProperty(_this, \"minPointers\", DEFAULT_MIN_POINTERS);\n    _defineProperty(_this, \"maxPointers\", DEFAULT_MAX_POINTERS);\n    _defineProperty(_this, \"startX\", 0);\n    _defineProperty(_this, \"startY\", 0);\n    _defineProperty(_this, \"offsetX\", 0);\n    _defineProperty(_this, \"offsetY\", 0);\n    _defineProperty(_this, \"lastX\", 0);\n    _defineProperty(_this, \"lastY\", 0);\n    _defineProperty(_this, \"stylusData\", void 0);\n    _defineProperty(_this, \"activateAfterLongPress\", 0);\n    _defineProperty(_this, \"activationTimeout\", 0);\n    _defineProperty(_this, \"enableTrackpadTwoFingerGesture\", false);\n    _defineProperty(_this, \"endWheelTimeout\", 0);\n    _defineProperty(_this, \"wheelDevice\", WheelDevice.UNDETERMINED);\n    return _this;\n  }\n  _inherits(PanGestureHandler, _GestureHandler);\n  return _createClass(PanGestureHandler, [{\n    key: \"init\",\n    value: function init(ref, propsRef) {\n      _superPropGet(PanGestureHandler, \"init\", this, 3)([ref, propsRef]);\n    }\n  }, {\n    key: \"updateGestureConfig\",\n    value: function updateGestureConfig(_ref) {\n      var _ref$enabled = _ref.enabled,\n        enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n        props = _objectWithoutProperties(_ref, _excluded);\n      this.resetConfig();\n      _superPropGet(PanGestureHandler, \"updateGestureConfig\", this, 3)([_objectSpread({\n        enabled: enabled\n      }, props)]);\n      this.checkCustomActivationCriteria(this.customActivationProperties);\n      if (this.config.minDist !== undefined) {\n        this.minDistSq = this.config.minDist * this.config.minDist;\n      } else if (this.hasCustomActivationCriteria) {\n        this.minDistSq = Number.MAX_SAFE_INTEGER;\n      }\n      if (this.config.minPointers !== undefined) {\n        this.minPointers = this.config.minPointers;\n      }\n      if (this.config.maxPointers !== undefined) {\n        this.maxPointers = this.config.maxPointers;\n      }\n      if (this.config.minVelocity !== undefined) {\n        this.minVelocityX = this.config.minVelocity;\n        this.minVelocityY = this.config.minVelocity;\n      }\n      if (this.config.minVelocityX !== undefined) {\n        this.minVelocityX = this.config.minVelocityX;\n      }\n      if (this.config.minVelocityY !== undefined) {\n        this.minVelocityY = this.config.minVelocityY;\n      }\n      if (this.config.activateAfterLongPress !== undefined) {\n        this.activateAfterLongPress = this.config.activateAfterLongPress;\n      }\n      if (this.config.activeOffsetXStart !== undefined) {\n        this.activeOffsetXStart = this.config.activeOffsetXStart;\n        if (this.config.activeOffsetXEnd === undefined) {\n          this.activeOffsetXEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.activeOffsetXEnd !== undefined) {\n        this.activeOffsetXEnd = this.config.activeOffsetXEnd;\n        if (this.config.activeOffsetXStart === undefined) {\n          this.activeOffsetXStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetXStart !== undefined) {\n        this.failOffsetXStart = this.config.failOffsetXStart;\n        if (this.config.failOffsetXEnd === undefined) {\n          this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetXEnd !== undefined) {\n        this.failOffsetXEnd = this.config.failOffsetXEnd;\n        if (this.config.failOffsetXStart === undefined) {\n          this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.activeOffsetYStart !== undefined) {\n        this.activeOffsetYStart = this.config.activeOffsetYStart;\n        if (this.config.activeOffsetYEnd === undefined) {\n          this.activeOffsetYEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.activeOffsetYEnd !== undefined) {\n        this.activeOffsetYEnd = this.config.activeOffsetYEnd;\n        if (this.config.activeOffsetYStart === undefined) {\n          this.activeOffsetYStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetYStart !== undefined) {\n        this.failOffsetYStart = this.config.failOffsetYStart;\n        if (this.config.failOffsetYEnd === undefined) {\n          this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetYEnd !== undefined) {\n        this.failOffsetYEnd = this.config.failOffsetYEnd;\n        if (this.config.failOffsetYStart === undefined) {\n          this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.enableTrackpadTwoFingerGesture !== undefined) {\n        this.enableTrackpadTwoFingerGesture = this.config.enableTrackpadTwoFingerGesture;\n      }\n    }\n  }, {\n    key: \"resetConfig\",\n    value: function resetConfig() {\n      _superPropGet(PanGestureHandler, \"resetConfig\", this, 3)([]);\n      this.activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n      this.activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n      this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n      this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n      this.activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n      this.activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n      this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n      this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n      this.minVelocityX = Number.MAX_SAFE_INTEGER;\n      this.minVelocityY = Number.MAX_SAFE_INTEGER;\n      this.minVelocitySq = Number.MAX_SAFE_INTEGER;\n      this.minDistSq = DEFAULT_MIN_DIST_SQ;\n      this.minPointers = DEFAULT_MIN_POINTERS;\n      this.maxPointers = DEFAULT_MAX_POINTERS;\n      this.activateAfterLongPress = 0;\n    }\n  }, {\n    key: \"transformNativeEvent\",\n    value: function transformNativeEvent() {\n      var translationX = this.getTranslationX();\n      var translationY = this.getTranslationY();\n      return _objectSpread(_objectSpread({}, _superPropGet(PanGestureHandler, \"transformNativeEvent\", this, 3)([])), {}, {\n        translationX: isNaN(translationX) ? 0 : translationX,\n        translationY: isNaN(translationY) ? 0 : translationY,\n        velocityX: this.velocityX,\n        velocityY: this.velocityY,\n        stylusData: this.stylusData\n      });\n    }\n  }, {\n    key: \"getTranslationX\",\n    value: function getTranslationX() {\n      return this.lastX - this.startX + this.offsetX;\n    }\n  }, {\n    key: \"getTranslationY\",\n    value: function getTranslationY() {\n      return this.lastY - this.startY + this.offsetY;\n    }\n  }, {\n    key: \"clearActivationTimeout\",\n    value: function clearActivationTimeout() {\n      clearTimeout(this.activationTimeout);\n    }\n  }, {\n    key: \"onPointerDown\",\n    value: function onPointerDown(event) {\n      if (!this.isButtonInConfig(event.button)) {\n        return;\n      }\n      this.tracker.addToTracker(event);\n      this.stylusData = event.stylusData;\n      _superPropGet(PanGestureHandler, \"onPointerDown\", this, 3)([event]);\n      var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n      this.tryBegin(event);\n      this.checkBegan();\n      this.tryToSendTouchEvent(event);\n    }\n  }, {\n    key: \"onPointerAdd\",\n    value: function onPointerAdd(event) {\n      this.tracker.addToTracker(event);\n      _superPropGet(PanGestureHandler, \"onPointerAdd\", this, 3)([event]);\n      this.tryBegin(event);\n      this.offsetX += this.lastX - this.startX;\n      this.offsetY += this.lastY - this.startY;\n      var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n      if (this.tracker.getTrackedPointersCount() > this.maxPointers) {\n        if (this.currentState === State.ACTIVE) {\n          this.cancel();\n        } else {\n          this.fail();\n        }\n      } else {\n        this.checkBegan();\n      }\n    }\n  }, {\n    key: \"onPointerUp\",\n    value: function onPointerUp(event) {\n      this.stylusData = event.stylusData;\n      _superPropGet(PanGestureHandler, \"onPointerUp\", this, 3)([event]);\n      if (this.currentState === State.ACTIVE) {\n        var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n        this.lastX = lastCoords.x;\n        this.lastY = lastCoords.y;\n      }\n      this.tracker.removeFromTracker(event.pointerId);\n      if (this.tracker.getTrackedPointersCount() === 0) {\n        this.clearActivationTimeout();\n      }\n      if (this.currentState === State.ACTIVE) {\n        this.end();\n      } else {\n        this.resetProgress();\n        this.fail();\n      }\n    }\n  }, {\n    key: \"onPointerRemove\",\n    value: function onPointerRemove(event) {\n      _superPropGet(PanGestureHandler, \"onPointerRemove\", this, 3)([event]);\n      this.tracker.removeFromTracker(event.pointerId);\n      this.offsetX += this.lastX - this.startX;\n      this.offsetY += this.lastY - this.startY;\n      var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n      if (!(this.currentState === State.ACTIVE && this.tracker.getTrackedPointersCount() < this.minPointers)) {\n        this.checkBegan();\n      }\n    }\n  }, {\n    key: \"onPointerMove\",\n    value: function onPointerMove(event) {\n      this.tracker.track(event);\n      this.stylusData = event.stylusData;\n      var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n      var velocity = this.tracker.getVelocity(event.pointerId);\n      this.velocityX = velocity.x;\n      this.velocityY = velocity.y;\n      this.checkBegan();\n      _superPropGet(PanGestureHandler, \"onPointerMove\", this, 3)([event]);\n    }\n  }, {\n    key: \"onPointerOutOfBounds\",\n    value: function onPointerOutOfBounds(event) {\n      if (this.getShouldCancelWhenOutside()) {\n        return;\n      }\n      this.tracker.track(event);\n      this.stylusData = event.stylusData;\n      var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n      var velocity = this.tracker.getVelocity(event.pointerId);\n      this.velocityX = velocity.x;\n      this.velocityY = velocity.y;\n      this.checkBegan();\n      if (this.currentState === State.ACTIVE) {\n        _superPropGet(PanGestureHandler, \"onPointerOutOfBounds\", this, 3)([event]);\n      }\n    }\n  }, {\n    key: \"scheduleWheelEnd\",\n    value: function scheduleWheelEnd(event) {\n      var _this2 = this;\n      clearTimeout(this.endWheelTimeout);\n      this.endWheelTimeout = setTimeout(function () {\n        if (_this2.currentState === State.ACTIVE) {\n          _this2.end();\n          _this2.tracker.removeFromTracker(event.pointerId);\n          _this2.currentState = State.UNDETERMINED;\n        }\n        _this2.wheelDevice = WheelDevice.UNDETERMINED;\n      }, 30);\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(event) {\n      if (this.wheelDevice === WheelDevice.MOUSE || !this.enableTrackpadTwoFingerGesture) {\n        return;\n      }\n      if (this.currentState === State.UNDETERMINED) {\n        this.wheelDevice = event.wheelDeltaY % 120 !== 0 ? WheelDevice.TOUCHPAD : WheelDevice.MOUSE;\n        if (this.wheelDevice === WheelDevice.MOUSE) {\n          this.scheduleWheelEnd(event);\n          return;\n        }\n        this.tracker.addToTracker(event);\n        var _lastCoords = this.tracker.getAbsoluteCoordsAverage();\n        this.lastX = _lastCoords.x;\n        this.lastY = _lastCoords.y;\n        this.startX = this.lastX;\n        this.startY = this.lastY;\n        this.begin();\n        this.activate();\n      }\n      this.tracker.track(event);\n      var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n      var velocity = this.tracker.getVelocity(event.pointerId);\n      this.velocityX = velocity.x;\n      this.velocityY = velocity.y;\n      this.tryToSendMoveEvent(false, event);\n      this.scheduleWheelEnd(event);\n    }\n  }, {\n    key: \"shouldActivate\",\n    value: function shouldActivate() {\n      var dx = this.getTranslationX();\n      if (this.activeOffsetXStart !== Number.MAX_SAFE_INTEGER && dx < this.activeOffsetXStart) {\n        return true;\n      }\n      if (this.activeOffsetXEnd !== Number.MIN_SAFE_INTEGER && dx > this.activeOffsetXEnd) {\n        return true;\n      }\n      var dy = this.getTranslationY();\n      if (this.activeOffsetYStart !== Number.MAX_SAFE_INTEGER && dy < this.activeOffsetYStart) {\n        return true;\n      }\n      if (this.activeOffsetYEnd !== Number.MIN_SAFE_INTEGER && dy > this.activeOffsetYEnd) {\n        return true;\n      }\n      var distanceSq = dx * dx + dy * dy;\n      if (this.minDistSq !== Number.MAX_SAFE_INTEGER && distanceSq >= this.minDistSq) {\n        return true;\n      }\n      var vx = this.velocityX;\n      if (this.minVelocityX !== Number.MAX_SAFE_INTEGER && (this.minVelocityX < 0 && vx <= this.minVelocityX || this.minVelocityX >= 0 && this.minVelocityX <= vx)) {\n        return true;\n      }\n      var vy = this.velocityY;\n      if (this.minVelocityY !== Number.MAX_SAFE_INTEGER && (this.minVelocityY < 0 && vy <= this.minVelocityY || this.minVelocityY >= 0 && this.minVelocityY <= vy)) {\n        return true;\n      }\n      var velocitySq = vx * vx + vy * vy;\n      return this.minVelocitySq !== Number.MAX_SAFE_INTEGER && velocitySq >= this.minVelocitySq;\n    }\n  }, {\n    key: \"shouldFail\",\n    value: function shouldFail() {\n      var dx = this.getTranslationX();\n      var dy = this.getTranslationY();\n      var distanceSq = dx * dx + dy * dy;\n      if (this.activateAfterLongPress > 0 && distanceSq > DEFAULT_MIN_DIST_SQ) {\n        this.clearActivationTimeout();\n        return true;\n      }\n      if (this.failOffsetXStart !== Number.MIN_SAFE_INTEGER && dx < this.failOffsetXStart) {\n        return true;\n      }\n      if (this.failOffsetXEnd !== Number.MAX_SAFE_INTEGER && dx > this.failOffsetXEnd) {\n        return true;\n      }\n      if (this.failOffsetYStart !== Number.MIN_SAFE_INTEGER && dy < this.failOffsetYStart) {\n        return true;\n      }\n      return this.failOffsetYEnd !== Number.MAX_SAFE_INTEGER && dy > this.failOffsetYEnd;\n    }\n  }, {\n    key: \"tryBegin\",\n    value: function tryBegin(event) {\n      var _this3 = this;\n      if (this.currentState === State.UNDETERMINED && this.tracker.getTrackedPointersCount() >= this.minPointers) {\n        this.resetProgress();\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.velocityX = 0;\n        this.velocityY = 0;\n        this.begin();\n        if (this.activateAfterLongPress > 0) {\n          this.activationTimeout = setTimeout(function () {\n            _this3.activate();\n          }, this.activateAfterLongPress);\n        }\n      } else {\n        var velocity = this.tracker.getVelocity(event.pointerId);\n        this.velocityX = velocity.x;\n        this.velocityY = velocity.y;\n      }\n    }\n  }, {\n    key: \"checkBegan\",\n    value: function checkBegan() {\n      if (this.currentState === State.BEGAN) {\n        if (this.shouldFail()) {\n          this.fail();\n        } else if (this.shouldActivate()) {\n          this.activate();\n        }\n      }\n    }\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (this.currentState !== State.ACTIVE) {\n        this.resetProgress();\n      }\n      _superPropGet(PanGestureHandler, \"activate\", this, 3)([force]);\n    }\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.clearActivationTimeout();\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.clearActivationTimeout();\n    }\n  }, {\n    key: \"resetProgress\",\n    value: function resetProgress() {\n      if (this.currentState === State.ACTIVE) {\n        return;\n      }\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n    }\n  }]);\n}(GestureHandler);\nexport { PanGestureHandler as default };","map":{"version":3,"names":["State","DEFAULT_TOUCH_SLOP","WheelDevice","GestureHandler","DEFAULT_MIN_POINTERS","DEFAULT_MAX_POINTERS","DEFAULT_MIN_DIST_SQ","PanGestureHandler","_GestureHandler","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_defineProperty","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","UNDETERMINED","_inherits","_createClass","key","value","init","ref","propsRef","_superPropGet","updateGestureConfig","_ref","_ref$enabled","enabled","props","_objectWithoutProperties","_excluded","resetConfig","_objectSpread","checkCustomActivationCriteria","customActivationProperties","config","minDist","undefined","minDistSq","hasCustomActivationCriteria","minPointers","maxPointers","minVelocity","minVelocityX","minVelocityY","activateAfterLongPress","activeOffsetXStart","activeOffsetXEnd","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","enableTrackpadTwoFingerGesture","minVelocitySq","transformNativeEvent","translationX","getTranslationX","translationY","getTranslationY","isNaN","velocityX","velocityY","stylusData","lastX","startX","offsetX","lastY","startY","offsetY","clearActivationTimeout","clearTimeout","activationTimeout","onPointerDown","event","isButtonInConfig","button","tracker","addToTracker","lastCoords","getAbsoluteCoordsAverage","x","y","tryBegin","checkBegan","tryToSendTouchEvent","onPointerAdd","getTrackedPointersCount","currentState","ACTIVE","cancel","fail","onPointerUp","removeFromTracker","pointerId","end","resetProgress","onPointerRemove","onPointerMove","track","velocity","getVelocity","onPointerOutOfBounds","getShouldCancelWhenOutside","scheduleWheelEnd","_this2","endWheelTimeout","setTimeout","wheelDevice","onWheel","MOUSE","wheelDeltaY","TOUCHPAD","begin","activate","tryToSendMoveEvent","shouldActivate","dx","dy","distanceSq","vx","vy","velocitySq","shouldFail","_this3","BEGAN","force","onCancel","onReset","default"],"sources":["d:\\Code\\SKiddy V2\\node_modules\\react-native-gesture-handler\\lib\\module\\web\\handlers\\PanGestureHandler.ts"],"sourcesContent":["import { State } from '../../State';\nimport { DEFAULT_TOUCH_SLOP } from '../constants';\nimport { AdaptedEvent, Config, StylusData, WheelDevice } from '../interfaces';\n\nimport GestureHandler from './GestureHandler';\n\nconst DEFAULT_MIN_POINTERS = 1;\nconst DEFAULT_MAX_POINTERS = 10;\nconst DEFAULT_MIN_DIST_SQ = DEFAULT_TOUCH_SLOP * DEFAULT_TOUCH_SLOP;\n\nexport default class PanGestureHandler extends GestureHandler {\n  private readonly customActivationProperties: string[] = [\n    'activeOffsetXStart',\n    'activeOffsetXEnd',\n    'failOffsetXStart',\n    'failOffsetXEnd',\n    'activeOffsetYStart',\n    'activeOffsetYEnd',\n    'failOffsetYStart',\n    'failOffsetYEnd',\n    'minVelocityX',\n    'minVelocityY',\n    'minVelocity',\n  ];\n\n  public velocityX = 0;\n  public velocityY = 0;\n\n  private minDistSq = DEFAULT_MIN_DIST_SQ;\n\n  private activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n  private activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n  private failOffsetXStart = Number.MIN_SAFE_INTEGER;\n  private failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n\n  private activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n  private activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n  private failOffsetYStart = Number.MIN_SAFE_INTEGER;\n  private failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n\n  private minVelocityX = Number.MAX_SAFE_INTEGER;\n  private minVelocityY = Number.MAX_SAFE_INTEGER;\n  private minVelocitySq = Number.MAX_SAFE_INTEGER;\n\n  private minPointers = DEFAULT_MIN_POINTERS;\n  private maxPointers = DEFAULT_MAX_POINTERS;\n\n  private startX = 0;\n  private startY = 0;\n  private offsetX = 0;\n  private offsetY = 0;\n  private lastX = 0;\n  private lastY = 0;\n\n  private stylusData: StylusData | undefined;\n\n  private activateAfterLongPress = 0;\n  private activationTimeout = 0;\n\n  private enableTrackpadTwoFingerGesture = false;\n  private endWheelTimeout = 0;\n  private wheelDevice = WheelDevice.UNDETERMINED;\n\n  public init(ref: number, propsRef: React.RefObject<unknown>): void {\n    super.init(ref, propsRef);\n  }\n\n  public updateGestureConfig({ enabled = true, ...props }: Config): void {\n    this.resetConfig();\n\n    super.updateGestureConfig({ enabled: enabled, ...props });\n    this.checkCustomActivationCriteria(this.customActivationProperties);\n\n    if (this.config.minDist !== undefined) {\n      this.minDistSq = this.config.minDist * this.config.minDist;\n    } else if (this.hasCustomActivationCriteria) {\n      this.minDistSq = Number.MAX_SAFE_INTEGER;\n    }\n\n    if (this.config.minPointers !== undefined) {\n      this.minPointers = this.config.minPointers;\n    }\n\n    if (this.config.maxPointers !== undefined) {\n      this.maxPointers = this.config.maxPointers;\n    }\n\n    if (this.config.minVelocity !== undefined) {\n      this.minVelocityX = this.config.minVelocity;\n      this.minVelocityY = this.config.minVelocity;\n    }\n\n    if (this.config.minVelocityX !== undefined) {\n      this.minVelocityX = this.config.minVelocityX;\n    }\n\n    if (this.config.minVelocityY !== undefined) {\n      this.minVelocityY = this.config.minVelocityY;\n    }\n\n    if (this.config.activateAfterLongPress !== undefined) {\n      this.activateAfterLongPress = this.config.activateAfterLongPress;\n    }\n\n    if (this.config.activeOffsetXStart !== undefined) {\n      this.activeOffsetXStart = this.config.activeOffsetXStart;\n\n      if (this.config.activeOffsetXEnd === undefined) {\n        this.activeOffsetXEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.activeOffsetXEnd !== undefined) {\n      this.activeOffsetXEnd = this.config.activeOffsetXEnd;\n\n      if (this.config.activeOffsetXStart === undefined) {\n        this.activeOffsetXStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetXStart !== undefined) {\n      this.failOffsetXStart = this.config.failOffsetXStart;\n\n      if (this.config.failOffsetXEnd === undefined) {\n        this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetXEnd !== undefined) {\n      this.failOffsetXEnd = this.config.failOffsetXEnd;\n\n      if (this.config.failOffsetXStart === undefined) {\n        this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.activeOffsetYStart !== undefined) {\n      this.activeOffsetYStart = this.config.activeOffsetYStart;\n\n      if (this.config.activeOffsetYEnd === undefined) {\n        this.activeOffsetYEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.activeOffsetYEnd !== undefined) {\n      this.activeOffsetYEnd = this.config.activeOffsetYEnd;\n\n      if (this.config.activeOffsetYStart === undefined) {\n        this.activeOffsetYStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetYStart !== undefined) {\n      this.failOffsetYStart = this.config.failOffsetYStart;\n\n      if (this.config.failOffsetYEnd === undefined) {\n        this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetYEnd !== undefined) {\n      this.failOffsetYEnd = this.config.failOffsetYEnd;\n\n      if (this.config.failOffsetYStart === undefined) {\n        this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.enableTrackpadTwoFingerGesture !== undefined) {\n      this.enableTrackpadTwoFingerGesture =\n        this.config.enableTrackpadTwoFingerGesture;\n    }\n  }\n\n  protected resetConfig(): void {\n    super.resetConfig();\n\n    this.activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n    this.activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n    this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n    this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n\n    this.activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n    this.activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n    this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n    this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n\n    this.minVelocityX = Number.MAX_SAFE_INTEGER;\n    this.minVelocityY = Number.MAX_SAFE_INTEGER;\n    this.minVelocitySq = Number.MAX_SAFE_INTEGER;\n\n    this.minDistSq = DEFAULT_MIN_DIST_SQ;\n\n    this.minPointers = DEFAULT_MIN_POINTERS;\n    this.maxPointers = DEFAULT_MAX_POINTERS;\n\n    this.activateAfterLongPress = 0;\n  }\n\n  protected transformNativeEvent() {\n    const translationX: number = this.getTranslationX();\n    const translationY: number = this.getTranslationY();\n\n    return {\n      ...super.transformNativeEvent(),\n      translationX: isNaN(translationX) ? 0 : translationX,\n      translationY: isNaN(translationY) ? 0 : translationY,\n      velocityX: this.velocityX,\n      velocityY: this.velocityY,\n      stylusData: this.stylusData,\n    };\n  }\n\n  private getTranslationX(): number {\n    return this.lastX - this.startX + this.offsetX;\n  }\n  private getTranslationY(): number {\n    return this.lastY - this.startY + this.offsetY;\n  }\n\n  private clearActivationTimeout(): void {\n    clearTimeout(this.activationTimeout);\n  }\n\n  // Events Handling\n  protected onPointerDown(event: AdaptedEvent): void {\n    if (!this.isButtonInConfig(event.button)) {\n      return;\n    }\n\n    this.tracker.addToTracker(event);\n    this.stylusData = event.stylusData;\n\n    super.onPointerDown(event);\n\n    const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n    this.lastX = lastCoords.x;\n    this.lastY = lastCoords.y;\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n\n    this.tryBegin(event);\n    this.checkBegan();\n\n    this.tryToSendTouchEvent(event);\n  }\n\n  protected onPointerAdd(event: AdaptedEvent): void {\n    this.tracker.addToTracker(event);\n    super.onPointerAdd(event);\n    this.tryBegin(event);\n\n    this.offsetX += this.lastX - this.startX;\n    this.offsetY += this.lastY - this.startY;\n\n    const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n    this.lastX = lastCoords.x;\n    this.lastY = lastCoords.y;\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n\n    if (this.tracker.getTrackedPointersCount() > this.maxPointers) {\n      if (this.currentState === State.ACTIVE) {\n        this.cancel();\n      } else {\n        this.fail();\n      }\n    } else {\n      this.checkBegan();\n    }\n  }\n\n  protected onPointerUp(event: AdaptedEvent): void {\n    this.stylusData = event.stylusData;\n\n    super.onPointerUp(event);\n    if (this.currentState === State.ACTIVE) {\n      const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n    }\n\n    this.tracker.removeFromTracker(event.pointerId);\n\n    if (this.tracker.getTrackedPointersCount() === 0) {\n      this.clearActivationTimeout();\n    }\n\n    if (this.currentState === State.ACTIVE) {\n      this.end();\n    } else {\n      this.resetProgress();\n      this.fail();\n    }\n  }\n\n  protected onPointerRemove(event: AdaptedEvent): void {\n    super.onPointerRemove(event);\n    this.tracker.removeFromTracker(event.pointerId);\n\n    this.offsetX += this.lastX - this.startX;\n    this.offsetY += this.lastY - this.startY;\n\n    const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n    this.lastX = lastCoords.x;\n    this.lastY = lastCoords.y;\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n\n    if (\n      !(\n        this.currentState === State.ACTIVE &&\n        this.tracker.getTrackedPointersCount() < this.minPointers\n      )\n    ) {\n      this.checkBegan();\n    }\n  }\n\n  protected onPointerMove(event: AdaptedEvent): void {\n    this.tracker.track(event);\n    this.stylusData = event.stylusData;\n\n    const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n    this.lastX = lastCoords.x;\n    this.lastY = lastCoords.y;\n\n    const velocity = this.tracker.getVelocity(event.pointerId);\n    this.velocityX = velocity.x;\n    this.velocityY = velocity.y;\n\n    this.checkBegan();\n\n    super.onPointerMove(event);\n  }\n\n  protected onPointerOutOfBounds(event: AdaptedEvent): void {\n    if (this.getShouldCancelWhenOutside()) {\n      return;\n    }\n\n    this.tracker.track(event);\n    this.stylusData = event.stylusData;\n\n    const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n    this.lastX = lastCoords.x;\n    this.lastY = lastCoords.y;\n\n    const velocity = this.tracker.getVelocity(event.pointerId);\n    this.velocityX = velocity.x;\n    this.velocityY = velocity.y;\n\n    this.checkBegan();\n\n    if (this.currentState === State.ACTIVE) {\n      super.onPointerOutOfBounds(event);\n    }\n  }\n\n  private scheduleWheelEnd(event: AdaptedEvent) {\n    clearTimeout(this.endWheelTimeout);\n\n    this.endWheelTimeout = setTimeout(() => {\n      if (this.currentState === State.ACTIVE) {\n        this.end();\n        this.tracker.removeFromTracker(event.pointerId);\n        this.currentState = State.UNDETERMINED;\n      }\n\n      this.wheelDevice = WheelDevice.UNDETERMINED;\n    }, 30);\n  }\n\n  protected onWheel(event: AdaptedEvent): void {\n    if (\n      this.wheelDevice === WheelDevice.MOUSE ||\n      !this.enableTrackpadTwoFingerGesture\n    ) {\n      return;\n    }\n\n    if (this.currentState === State.UNDETERMINED) {\n      this.wheelDevice =\n        event.wheelDeltaY! % 120 !== 0\n          ? WheelDevice.TOUCHPAD\n          : WheelDevice.MOUSE;\n\n      if (this.wheelDevice === WheelDevice.MOUSE) {\n        this.scheduleWheelEnd(event);\n        return;\n      }\n\n      this.tracker.addToTracker(event);\n\n      const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n\n      this.begin();\n      this.activate();\n    }\n    this.tracker.track(event);\n\n    const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n    this.lastX = lastCoords.x;\n    this.lastY = lastCoords.y;\n\n    const velocity = this.tracker.getVelocity(event.pointerId);\n    this.velocityX = velocity.x;\n    this.velocityY = velocity.y;\n\n    this.tryToSendMoveEvent(false, event);\n    this.scheduleWheelEnd(event);\n  }\n\n  private shouldActivate(): boolean {\n    const dx: number = this.getTranslationX();\n\n    if (\n      this.activeOffsetXStart !== Number.MAX_SAFE_INTEGER &&\n      dx < this.activeOffsetXStart\n    ) {\n      return true;\n    }\n\n    if (\n      this.activeOffsetXEnd !== Number.MIN_SAFE_INTEGER &&\n      dx > this.activeOffsetXEnd\n    ) {\n      return true;\n    }\n\n    const dy: number = this.getTranslationY();\n\n    if (\n      this.activeOffsetYStart !== Number.MAX_SAFE_INTEGER &&\n      dy < this.activeOffsetYStart\n    ) {\n      return true;\n    }\n\n    if (\n      this.activeOffsetYEnd !== Number.MIN_SAFE_INTEGER &&\n      dy > this.activeOffsetYEnd\n    ) {\n      return true;\n    }\n\n    const distanceSq: number = dx * dx + dy * dy;\n\n    if (\n      this.minDistSq !== Number.MAX_SAFE_INTEGER &&\n      distanceSq >= this.minDistSq\n    ) {\n      return true;\n    }\n\n    const vx: number = this.velocityX;\n\n    if (\n      this.minVelocityX !== Number.MAX_SAFE_INTEGER &&\n      ((this.minVelocityX < 0 && vx <= this.minVelocityX) ||\n        (this.minVelocityX >= 0 && this.minVelocityX <= vx))\n    ) {\n      return true;\n    }\n\n    const vy: number = this.velocityY;\n    if (\n      this.minVelocityY !== Number.MAX_SAFE_INTEGER &&\n      ((this.minVelocityY < 0 && vy <= this.minVelocityY) ||\n        (this.minVelocityY >= 0 && this.minVelocityY <= vy))\n    ) {\n      return true;\n    }\n\n    const velocitySq: number = vx * vx + vy * vy;\n\n    return (\n      this.minVelocitySq !== Number.MAX_SAFE_INTEGER &&\n      velocitySq >= this.minVelocitySq\n    );\n  }\n\n  private shouldFail(): boolean {\n    const dx: number = this.getTranslationX();\n    const dy: number = this.getTranslationY();\n    const distanceSq = dx * dx + dy * dy;\n\n    if (this.activateAfterLongPress > 0 && distanceSq > DEFAULT_MIN_DIST_SQ) {\n      this.clearActivationTimeout();\n      return true;\n    }\n\n    if (\n      this.failOffsetXStart !== Number.MIN_SAFE_INTEGER &&\n      dx < this.failOffsetXStart\n    ) {\n      return true;\n    }\n\n    if (\n      this.failOffsetXEnd !== Number.MAX_SAFE_INTEGER &&\n      dx > this.failOffsetXEnd\n    ) {\n      return true;\n    }\n\n    if (\n      this.failOffsetYStart !== Number.MIN_SAFE_INTEGER &&\n      dy < this.failOffsetYStart\n    ) {\n      return true;\n    }\n\n    return (\n      this.failOffsetYEnd !== Number.MAX_SAFE_INTEGER &&\n      dy > this.failOffsetYEnd\n    );\n  }\n\n  private tryBegin(event: AdaptedEvent): void {\n    if (\n      this.currentState === State.UNDETERMINED &&\n      this.tracker.getTrackedPointersCount() >= this.minPointers\n    ) {\n      this.resetProgress();\n      this.offsetX = 0;\n      this.offsetY = 0;\n      this.velocityX = 0;\n      this.velocityY = 0;\n\n      this.begin();\n\n      if (this.activateAfterLongPress > 0) {\n        this.activationTimeout = setTimeout(() => {\n          this.activate();\n        }, this.activateAfterLongPress);\n      }\n    } else {\n      const velocity = this.tracker.getVelocity(event.pointerId);\n      this.velocityX = velocity.x;\n      this.velocityY = velocity.y;\n    }\n  }\n\n  private checkBegan(): void {\n    if (this.currentState === State.BEGAN) {\n      if (this.shouldFail()) {\n        this.fail();\n      } else if (this.shouldActivate()) {\n        this.activate();\n      }\n    }\n  }\n\n  public activate(force = false): void {\n    if (this.currentState !== State.ACTIVE) {\n      this.resetProgress();\n    }\n\n    super.activate(force);\n  }\n\n  protected onCancel(): void {\n    this.clearActivationTimeout();\n  }\n\n  protected onReset(): void {\n    this.clearActivationTimeout();\n  }\n\n  protected resetProgress(): void {\n    if (this.currentState === State.ACTIVE) {\n      return;\n    }\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,KAAT;AACA,SAASC,kBAAT;AACA,SAA2CC,WAA3C;AAEA,OAAOC,cAAP;AAEA,IAAMC,oBAAoB,GAAG,CAA7B;AACA,IAAMC,oBAAoB,GAAG,EAA7B;AACA,IAAMC,mBAAmB,GAAGL,kBAAkB,GAAGA,kBAAjD;AAAA,IAEqBM,iBAAN,aAAAC,eAAA;EAA+C,SAAAD,kBAAA;IAAA,IAAAE,KAAA;IAAAC,eAAA,OAAAH,iBAAA;IAAA,SAAAI,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAQ,UAAA,OAAAV,iBAAA,KAAAW,MAAA,CAAAJ,IAAA;IAAAK,eAAA,CAAAV,KAAA,gCACJ,CACtD,oBADsD,EAEtD,kBAFsD,EAGtD,kBAHsD,EAItD,gBAJsD,EAKtD,oBALsD,EAMtD,kBANsD,EAOtD,kBAPsD,EAQtD,gBARsD,EAStD,cATsD,EAUtD,cAVsD,EAWtD,aAXsD,CADI;IAAAU,eAAA,CAAAV,KAAA,eAezC,CAfyC;IAAAU,eAAA,CAAAV,KAAA,eAgBzC,CAhByC;IAAAU,eAAA,CAAAV,KAAA,eAkBxCH,mBAlBwC;IAAAa,eAAA,CAAAV,KAAA,wBAoB/B,CAACW,MAAM,CAACC,gBApBuB;IAAAF,eAAA,CAAAV,KAAA,sBAqBjCW,MAAM,CAACE,gBArB0B;IAAAH,eAAA,CAAAV,KAAA,sBAsBjCW,MAAM,CAACE,gBAtB0B;IAAAH,eAAA,CAAAV,KAAA,oBAuBnCW,MAAM,CAACC,gBAvB4B;IAAAF,eAAA,CAAAV,KAAA,wBAyB/BW,MAAM,CAACC,gBAzBwB;IAAAF,eAAA,CAAAV,KAAA,sBA0BjCW,MAAM,CAACE,gBA1B0B;IAAAH,eAAA,CAAAV,KAAA,sBA2BjCW,MAAM,CAACE,gBA3B0B;IAAAH,eAAA,CAAAV,KAAA,oBA4BnCW,MAAM,CAACC,gBA5B4B;IAAAF,eAAA,CAAAV,KAAA,kBA8BrCW,MAAM,CAACC,gBA9B8B;IAAAF,eAAA,CAAAV,KAAA,kBA+BrCW,MAAM,CAACC,gBA/B8B;IAAAF,eAAA,CAAAV,KAAA,mBAgCpCW,MAAM,CAACC,gBAhC6B;IAAAF,eAAA,CAAAV,KAAA,iBAkCtCL,oBAlCsC;IAAAe,eAAA,CAAAV,KAAA,iBAmCtCJ,oBAnCsC;IAAAc,eAAA,CAAAV,KAAA,YAqC3C,CArC2C;IAAAU,eAAA,CAAAV,KAAA,YAsC3C,CAtC2C;IAAAU,eAAA,CAAAV,KAAA,aAuC1C,CAvC0C;IAAAU,eAAA,CAAAV,KAAA,aAwC1C,CAxC0C;IAAAU,eAAA,CAAAV,KAAA,WAyC5C,CAzC4C;IAAAU,eAAA,CAAAV,KAAA,WA0C5C,CA1C4C;IAAAU,eAAA,CAAAV,KAAA;IAAAU,eAAA,CAAAV,KAAA,4BA8C3B,CA9C2B;IAAAU,eAAA,CAAAV,KAAA,uBA+ChC,CA/CgC;IAAAU,eAAA,CAAAV,KAAA,oCAiDnB,KAjDmB;IAAAU,eAAA,CAAAV,KAAA,qBAkDlC,CAlDkC;IAAAU,eAAA,CAAAV,KAAA,iBAmDtCP,WAAW,CAACqB,YAnD0B;IAAA,OAAAd,KAAA;EAAA;EAAAe,SAAA,CAAAjB,iBAAA,EAAAC,eAAA;EAAA,OAAAiB,YAAA,CAAAlB,iBAAA;IAAAmB,GAAA;IAAAC,KAAA,EAqDrD,SAAAC,IAAIA,CAACC,GAAD,EAAcC,QAAd,EAAwD;MACjEC,aAAA,CAAAxB,iBAAA,oBAAWsB,GAAX,EAAgBC,QAAhB;IACD;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAEM,SAAAK,mBAAmBA,CAAAC,IAAA,EAA6C;MAAA,IAAAC,YAAA,GAAAD,IAAA,CAA1CE,OAAO;QAAPA,OAAO,GAAAD,YAAA,cAAG,IAAZ,GAAAA,YAAA;QAAqBE,KAAA,GAAAC,wBAAA,CAAAJ,IAAA,EAAAK,SAAA;MAC9C,KAAKC,WAAL;MAEAR,aAAA,CAAAxB,iBAAA,mCAAAiC,aAAA;QAA4BL,OAAO,EAAEA;MAAX,GAAuBC,KAAA;MACjD,KAAKK,6BAAL,CAAmC,KAAKC,0BAAxC;MAEA,IAAI,KAAKC,MAAL,CAAYC,OAAZ,KAAwBC,SAA5B,EAAuC;QACrC,KAAKC,SAAL,GAAiB,KAAKH,MAAL,CAAYC,OAAZ,GAAsB,KAAKD,MAAL,CAAYC,OAAnD;MACD,CAFD,MAEO,IAAI,KAAKG,2BAAT,EAAsC;QAC3C,KAAKD,SAAL,GAAiB1B,MAAM,CAACC,gBAAxB;MACD;MAED,IAAI,KAAKsB,MAAL,CAAYK,WAAZ,KAA4BH,SAAhC,EAA2C;QACzC,KAAKG,WAAL,GAAmB,KAAKL,MAAL,CAAYK,WAA/B;MACD;MAED,IAAI,KAAKL,MAAL,CAAYM,WAAZ,KAA4BJ,SAAhC,EAA2C;QACzC,KAAKI,WAAL,GAAmB,KAAKN,MAAL,CAAYM,WAA/B;MACD;MAED,IAAI,KAAKN,MAAL,CAAYO,WAAZ,KAA4BL,SAAhC,EAA2C;QACzC,KAAKM,YAAL,GAAoB,KAAKR,MAAL,CAAYO,WAAhC;QACA,KAAKE,YAAL,GAAoB,KAAKT,MAAL,CAAYO,WAAhC;MACD;MAED,IAAI,KAAKP,MAAL,CAAYQ,YAAZ,KAA6BN,SAAjC,EAA4C;QAC1C,KAAKM,YAAL,GAAoB,KAAKR,MAAL,CAAYQ,YAAhC;MACD;MAED,IAAI,KAAKR,MAAL,CAAYS,YAAZ,KAA6BP,SAAjC,EAA4C;QAC1C,KAAKO,YAAL,GAAoB,KAAKT,MAAL,CAAYS,YAAhC;MACD;MAED,IAAI,KAAKT,MAAL,CAAYU,sBAAZ,KAAuCR,SAA3C,EAAsD;QACpD,KAAKQ,sBAAL,GAA8B,KAAKV,MAAL,CAAYU,sBAA1C;MACD;MAED,IAAI,KAAKV,MAAL,CAAYW,kBAAZ,KAAmCT,SAAvC,EAAkD;QAChD,KAAKS,kBAAL,GAA0B,KAAKX,MAAL,CAAYW,kBAAtC;QAEA,IAAI,KAAKX,MAAL,CAAYY,gBAAZ,KAAiCV,SAArC,EAAgD;UAC9C,KAAKU,gBAAL,GAAwBnC,MAAM,CAACC,gBAA/B;QACD;MACF;MAED,IAAI,KAAKsB,MAAL,CAAYY,gBAAZ,KAAiCV,SAArC,EAAgD;QAC9C,KAAKU,gBAAL,GAAwB,KAAKZ,MAAL,CAAYY,gBAApC;QAEA,IAAI,KAAKZ,MAAL,CAAYW,kBAAZ,KAAmCT,SAAvC,EAAkD;UAChD,KAAKS,kBAAL,GAA0BlC,MAAM,CAACE,gBAAjC;QACD;MACF;MAED,IAAI,KAAKqB,MAAL,CAAYa,gBAAZ,KAAiCX,SAArC,EAAgD;QAC9C,KAAKW,gBAAL,GAAwB,KAAKb,MAAL,CAAYa,gBAApC;QAEA,IAAI,KAAKb,MAAL,CAAYc,cAAZ,KAA+BZ,SAAnC,EAA8C;UAC5C,KAAKY,cAAL,GAAsBrC,MAAM,CAACC,gBAA7B;QACD;MACF;MAED,IAAI,KAAKsB,MAAL,CAAYc,cAAZ,KAA+BZ,SAAnC,EAA8C;QAC5C,KAAKY,cAAL,GAAsB,KAAKd,MAAL,CAAYc,cAAlC;QAEA,IAAI,KAAKd,MAAL,CAAYa,gBAAZ,KAAiCX,SAArC,EAAgD;UAC9C,KAAKW,gBAAL,GAAwBpC,MAAM,CAACE,gBAA/B;QACD;MACF;MAED,IAAI,KAAKqB,MAAL,CAAYe,kBAAZ,KAAmCb,SAAvC,EAAkD;QAChD,KAAKa,kBAAL,GAA0B,KAAKf,MAAL,CAAYe,kBAAtC;QAEA,IAAI,KAAKf,MAAL,CAAYgB,gBAAZ,KAAiCd,SAArC,EAAgD;UAC9C,KAAKc,gBAAL,GAAwBvC,MAAM,CAACC,gBAA/B;QACD;MACF;MAED,IAAI,KAAKsB,MAAL,CAAYgB,gBAAZ,KAAiCd,SAArC,EAAgD;QAC9C,KAAKc,gBAAL,GAAwB,KAAKhB,MAAL,CAAYgB,gBAApC;QAEA,IAAI,KAAKhB,MAAL,CAAYe,kBAAZ,KAAmCb,SAAvC,EAAkD;UAChD,KAAKa,kBAAL,GAA0BtC,MAAM,CAACE,gBAAjC;QACD;MACF;MAED,IAAI,KAAKqB,MAAL,CAAYiB,gBAAZ,KAAiCf,SAArC,EAAgD;QAC9C,KAAKe,gBAAL,GAAwB,KAAKjB,MAAL,CAAYiB,gBAApC;QAEA,IAAI,KAAKjB,MAAL,CAAYkB,cAAZ,KAA+BhB,SAAnC,EAA8C;UAC5C,KAAKgB,cAAL,GAAsBzC,MAAM,CAACC,gBAA7B;QACD;MACF;MAED,IAAI,KAAKsB,MAAL,CAAYkB,cAAZ,KAA+BhB,SAAnC,EAA8C;QAC5C,KAAKgB,cAAL,GAAsB,KAAKlB,MAAL,CAAYkB,cAAlC;QAEA,IAAI,KAAKlB,MAAL,CAAYiB,gBAAZ,KAAiCf,SAArC,EAAgD;UAC9C,KAAKe,gBAAL,GAAwBxC,MAAM,CAACE,gBAA/B;QACD;MACF;MAED,IAAI,KAAKqB,MAAL,CAAYmB,8BAAZ,KAA+CjB,SAAnD,EAA8D;QAC5D,KAAKiB,8BAAL,GACE,KAAKnB,MAAL,CAAYmB,8BADd;MAED;IACF;EAAA;IAAApC,GAAA;IAAAC,KAAA,EAES,SAAAY,WAAWA,CAAA,EAAS;MAC5BR,aAAA,CAAAxB,iBAAA;MAEA,KAAK+C,kBAAL,GAA0B,CAAClC,MAAM,CAACC,gBAAlC;MACA,KAAKkC,gBAAL,GAAwBnC,MAAM,CAACE,gBAA/B;MACA,KAAKkC,gBAAL,GAAwBpC,MAAM,CAACE,gBAA/B;MACA,KAAKmC,cAAL,GAAsBrC,MAAM,CAACC,gBAA7B;MAEA,KAAKqC,kBAAL,GAA0BtC,MAAM,CAACC,gBAAjC;MACA,KAAKsC,gBAAL,GAAwBvC,MAAM,CAACE,gBAA/B;MACA,KAAKsC,gBAAL,GAAwBxC,MAAM,CAACE,gBAA/B;MACA,KAAKuC,cAAL,GAAsBzC,MAAM,CAACC,gBAA7B;MAEA,KAAK8B,YAAL,GAAoB/B,MAAM,CAACC,gBAA3B;MACA,KAAK+B,YAAL,GAAoBhC,MAAM,CAACC,gBAA3B;MACA,KAAK0C,aAAL,GAAqB3C,MAAM,CAACC,gBAA5B;MAEA,KAAKyB,SAAL,GAAiBxC,mBAAjB;MAEA,KAAK0C,WAAL,GAAmB5C,oBAAnB;MACA,KAAK6C,WAAL,GAAmB5C,oBAAnB;MAEA,KAAKgD,sBAAL,GAA8B,CAA9B;IACD;EAAA;IAAA3B,GAAA;IAAAC,KAAA,EAES,SAAAqC,oBAAoBA,CAAA,EAAG;MAC/B,IAAMC,YAAoB,GAAG,KAAKC,eAAL,EAA7B;MACA,IAAMC,YAAoB,GAAG,KAAKC,eAAL,EAA7B;MAEA,OAAA5B,aAAA,CAAAA,aAAA,KAAAT,aAAA,CAAAxB,iBAAA;QAEE0D,YAAY,EAAEI,KAAK,CAACJ,YAAD,CAAL,GAAsB,CAAtB,GAA0BA,YAFnC;QAGLE,YAAY,EAAEE,KAAK,CAACF,YAAD,CAAL,GAAsB,CAAtB,GAA0BA,YAHnC;QAILG,SAAS,EAAE,KAAKA,SAJX;QAKLC,SAAS,EAAE,KAAKA,SALX;QAMLC,UAAU,EAAE,KAAKA;MAAA;IAEpB;EAAA;IAAA9C,GAAA;IAAAC,KAAA,EAEO,SAAAuC,eAAeA,CAAA,EAAW;MAChC,OAAO,KAAKO,KAAL,GAAa,KAAKC,MAAlB,GAA2B,KAAKC,OAAvC;IACD;EAAA;IAAAjD,GAAA;IAAAC,KAAA,EACO,SAAAyC,eAAeA,CAAA,EAAW;MAChC,OAAO,KAAKQ,KAAL,GAAa,KAAKC,MAAlB,GAA2B,KAAKC,OAAvC;IACD;EAAA;IAAApD,GAAA;IAAAC,KAAA,EAEO,SAAAoD,sBAAsBA,CAAA,EAAS;MACrCC,YAAY,CAAC,KAAKC,iBAAN,CAAZ;IACD;EApN2D;IAAAvD,GAAA;IAAAC,KAAA,EAuNlD,SAAAuD,aAAaA,CAACC,KAAD,EAA4B;MACjD,IAAI,CAAC,KAAKC,gBAAL,CAAsBD,KAAK,CAACE,MAA5B,CAAL,EAA0C;QACxC;MACD;MAED,KAAKC,OAAL,CAAaC,YAAb,CAA0BJ,KAA1B;MACA,KAAKX,UAAL,GAAkBW,KAAK,CAACX,UAAxB;MAEAzC,aAAA,CAAAxB,iBAAA,6BAAoB4E,KAApB;MAEA,IAAMK,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;MACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;MACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MAEA,KAAKjB,MAAL,GAAc,KAAKD,KAAnB;MACA,KAAKI,MAAL,GAAc,KAAKD,KAAnB;MAEA,KAAKgB,QAAL,CAAcT,KAAd;MACA,KAAKU,UAAL;MAEA,KAAKC,mBAAL,CAAyBX,KAAzB;IACD;EAAA;IAAAzD,GAAA;IAAAC,KAAA,EAES,SAAAoE,YAAYA,CAACZ,KAAD,EAA4B;MAChD,KAAKG,OAAL,CAAaC,YAAb,CAA0BJ,KAA1B;MACApD,aAAA,CAAAxB,iBAAA,4BAAmB4E,KAAnB;MACA,KAAKS,QAAL,CAAcT,KAAd;MAEA,KAAKR,OAAL,IAAgB,KAAKF,KAAL,GAAa,KAAKC,MAAlC;MACA,KAAKI,OAAL,IAAgB,KAAKF,KAAL,GAAa,KAAKC,MAAlC;MAEA,IAAMW,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;MACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;MACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MAEA,KAAKjB,MAAL,GAAc,KAAKD,KAAnB;MACA,KAAKI,MAAL,GAAc,KAAKD,KAAnB;MAEA,IAAI,KAAKU,OAAL,CAAaU,uBAAb,KAAyC,KAAK/C,WAAlD,EAA+D;QAC7D,IAAI,KAAKgD,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;UACtC,KAAKC,MAAL;QACD,CAFD,MAEO;UACL,KAAKC,IAAL;QACD;MACF,CAND,MAMO;QACL,KAAKP,UAAL;MACD;IACF;EAAA;IAAAnE,GAAA;IAAAC,KAAA,EAES,SAAA0E,WAAWA,CAAClB,KAAD,EAA4B;MAC/C,KAAKX,UAAL,GAAkBW,KAAK,CAACX,UAAxB;MAEAzC,aAAA,CAAAxB,iBAAA,2BAAkB4E,KAAlB;MACA,IAAI,KAAKc,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;QACtC,IAAMV,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;QACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;QACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MACD;MAED,KAAKL,OAAL,CAAagB,iBAAb,CAA+BnB,KAAK,CAACoB,SAArC;MAEA,IAAI,KAAKjB,OAAL,CAAaU,uBAAb,OAA2C,CAA/C,EAAkD;QAChD,KAAKjB,sBAAL;MACD;MAED,IAAI,KAAKkB,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;QACtC,KAAKM,GAAL;MACD,CAFD,MAEO;QACL,KAAKC,aAAL;QACA,KAAKL,IAAL;MACD;IACF;EAAA;IAAA1E,GAAA;IAAAC,KAAA,EAES,SAAA+E,eAAeA,CAACvB,KAAD,EAA4B;MACnDpD,aAAA,CAAAxB,iBAAA,+BAAsB4E,KAAtB;MACA,KAAKG,OAAL,CAAagB,iBAAb,CAA+BnB,KAAK,CAACoB,SAArC;MAEA,KAAK5B,OAAL,IAAgB,KAAKF,KAAL,GAAa,KAAKC,MAAlC;MACA,KAAKI,OAAL,IAAgB,KAAKF,KAAL,GAAa,KAAKC,MAAlC;MAEA,IAAMW,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;MACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;MACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MAEA,KAAKjB,MAAL,GAAc,KAAKD,KAAnB;MACA,KAAKI,MAAL,GAAc,KAAKD,KAAnB;MAEA,IACE,EACE,KAAKqB,YAAL,KAAsBjG,KAAK,CAACkG,MAA5B,IACA,KAAKZ,OAAL,CAAaU,uBAAb,KAAyC,KAAKhD,WAFhD,CADF,EAKE;QACA,KAAK6C,UAAL;MACD;IACF;EAAA;IAAAnE,GAAA;IAAAC,KAAA,EAES,SAAAgF,aAAaA,CAACxB,KAAD,EAA4B;MACjD,KAAKG,OAAL,CAAasB,KAAb,CAAmBzB,KAAnB;MACA,KAAKX,UAAL,GAAkBW,KAAK,CAACX,UAAxB;MAEA,IAAMgB,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;MACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;MACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MAEA,IAAMkB,QAAQ,GAAG,KAAKvB,OAAL,CAAawB,WAAb,CAAyB3B,KAAK,CAACoB,SAA/B,CAAjB;MACA,KAAKjC,SAAL,GAAiBuC,QAAQ,CAACnB,CAA1B;MACA,KAAKnB,SAAL,GAAiBsC,QAAQ,CAAClB,CAA1B;MAEA,KAAKE,UAAL;MAEA9D,aAAA,CAAAxB,iBAAA,6BAAoB4E,KAApB;IACD;EAAA;IAAAzD,GAAA;IAAAC,KAAA,EAES,SAAAoF,oBAAoBA,CAAC5B,KAAD,EAA4B;MACxD,IAAI,KAAK6B,0BAAL,EAAJ,EAAuC;QACrC;MACD;MAED,KAAK1B,OAAL,CAAasB,KAAb,CAAmBzB,KAAnB;MACA,KAAKX,UAAL,GAAkBW,KAAK,CAACX,UAAxB;MAEA,IAAMgB,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;MACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;MACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MAEA,IAAMkB,QAAQ,GAAG,KAAKvB,OAAL,CAAawB,WAAb,CAAyB3B,KAAK,CAACoB,SAA/B,CAAjB;MACA,KAAKjC,SAAL,GAAiBuC,QAAQ,CAACnB,CAA1B;MACA,KAAKnB,SAAL,GAAiBsC,QAAQ,CAAClB,CAA1B;MAEA,KAAKE,UAAL;MAEA,IAAI,KAAKI,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;QACtCnE,aAAA,CAAAxB,iBAAA,oCAA2B4E,KAA3B;MACD;IACF;EAAA;IAAAzD,GAAA;IAAAC,KAAA,EAEO,SAAAsF,gBAAgBA,CAAC9B,KAAD,EAAsB;MAAA,IAAA+B,MAAA;MAC5ClC,YAAY,CAAC,KAAKmC,eAAN,CAAZ;MAEA,KAAKA,eAAL,GAAuBC,UAAU,CAAC,YAAM;QACtC,IAAIF,MAAA,CAAKjB,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;UACtCgB,MAAA,CAAKV,GAAL;UACAU,MAAA,CAAK5B,OAAL,CAAagB,iBAAb,CAA+BnB,KAAK,CAACoB,SAArC;UACAW,MAAA,CAAKjB,YAAL,GAAoBjG,KAAK,CAACuB,YAA1B;QACD;QAED2F,MAAA,CAAKG,WAAL,GAAmBnH,WAAW,CAACqB,YAA/B;MACD,CARgC,EAQ9B,EAR8B,CAAjC;IASD;EAAA;IAAAG,GAAA;IAAAC,KAAA,EAES,SAAA2F,OAAOA,CAACnC,KAAD,EAA4B;MAC3C,IACE,KAAKkC,WAAL,KAAqBnH,WAAW,CAACqH,KAAjC,IACA,CAAC,KAAKzD,8BAFR,EAGE;QACA;MACD;MAED,IAAI,KAAKmC,YAAL,KAAsBjG,KAAK,CAACuB,YAAhC,EAA8C;QAC5C,KAAK8F,WAAL,GACElC,KAAK,CAACqC,WAAN,GAAqB,GAArB,KAA6B,CAA7B,GACItH,WAAW,CAACuH,QADhB,GAEIvH,WAAW,CAACqH,KAHlB;QAKA,IAAI,KAAKF,WAAL,KAAqBnH,WAAW,CAACqH,KAArC,EAA4C;UAC1C,KAAKN,gBAAL,CAAsB9B,KAAtB;UACA;QACD;QAED,KAAKG,OAAL,CAAaC,YAAb,CAA0BJ,KAA1B;QAEA,IAAMK,WAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;QACA,KAAKhB,KAAL,GAAae,WAAU,CAACE,CAAxB;QACA,KAAKd,KAAL,GAAaY,WAAU,CAACG,CAAxB;QAEA,KAAKjB,MAAL,GAAc,KAAKD,KAAnB;QACA,KAAKI,MAAL,GAAc,KAAKD,KAAnB;QAEA,KAAK8C,KAAL;QACA,KAAKC,QAAL;MACD;MACD,KAAKrC,OAAL,CAAasB,KAAb,CAAmBzB,KAAnB;MAEA,IAAMK,UAAU,GAAG,KAAKF,OAAL,CAAaG,wBAAb,EAAnB;MACA,KAAKhB,KAAL,GAAae,UAAU,CAACE,CAAxB;MACA,KAAKd,KAAL,GAAaY,UAAU,CAACG,CAAxB;MAEA,IAAMkB,QAAQ,GAAG,KAAKvB,OAAL,CAAawB,WAAb,CAAyB3B,KAAK,CAACoB,SAA/B,CAAjB;MACA,KAAKjC,SAAL,GAAiBuC,QAAQ,CAACnB,CAA1B;MACA,KAAKnB,SAAL,GAAiBsC,QAAQ,CAAClB,CAA1B;MAEA,KAAKiC,kBAAL,CAAwB,KAAxB,EAA+BzC,KAA/B;MACA,KAAK8B,gBAAL,CAAsB9B,KAAtB;IACD;EAAA;IAAAzD,GAAA;IAAAC,KAAA,EAEO,SAAAkG,cAAcA,CAAA,EAAY;MAChC,IAAMC,EAAU,GAAG,KAAK5D,eAAL,EAAnB;MAEA,IACE,KAAKZ,kBAAL,KAA4BlC,MAAM,CAACC,gBAAnC,IACAyG,EAAE,GAAG,KAAKxE,kBAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,IACE,KAAKC,gBAAL,KAA0BnC,MAAM,CAACE,gBAAjC,IACAwG,EAAE,GAAG,KAAKvE,gBAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,IAAMwE,EAAU,GAAG,KAAK3D,eAAL,EAAnB;MAEA,IACE,KAAKV,kBAAL,KAA4BtC,MAAM,CAACC,gBAAnC,IACA0G,EAAE,GAAG,KAAKrE,kBAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,IACE,KAAKC,gBAAL,KAA0BvC,MAAM,CAACE,gBAAjC,IACAyG,EAAE,GAAG,KAAKpE,gBAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,IAAMqE,UAAkB,GAAGF,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAA1C;MAEA,IACE,KAAKjF,SAAL,KAAmB1B,MAAM,CAACC,gBAA1B,IACA2G,UAAU,IAAI,KAAKlF,SAFrB,EAGE;QACA,OAAO,IAAP;MACD;MAED,IAAMmF,EAAU,GAAG,KAAK3D,SAAxB;MAEA,IACE,KAAKnB,YAAL,KAAsB/B,MAAM,CAACC,gBAA7B,KACE,KAAK8B,YAAL,GAAoB,CAApB,IAAyB8E,EAAE,IAAI,KAAK9E,YAArC,IACE,KAAKA,YAAL,IAAqB,CAArB,IAA0B,KAAKA,YAAL,IAAqB8E,EAFlD,CADF,EAIE;QACA,OAAO,IAAP;MACD;MAED,IAAMC,EAAU,GAAG,KAAK3D,SAAxB;MACA,IACE,KAAKnB,YAAL,KAAsBhC,MAAM,CAACC,gBAA7B,KACE,KAAK+B,YAAL,GAAoB,CAApB,IAAyB8E,EAAE,IAAI,KAAK9E,YAArC,IACE,KAAKA,YAAL,IAAqB,CAArB,IAA0B,KAAKA,YAAL,IAAqB8E,EAFlD,CADF,EAIE;QACA,OAAO,IAAP;MACD;MAED,IAAMC,UAAkB,GAAGF,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAA1C;MAEA,OACE,KAAKnE,aAAL,KAAuB3C,MAAM,CAACC,gBAA9B,IACA8G,UAAU,IAAI,KAAKpE,aAFrB;IAID;EAAA;IAAArC,GAAA;IAAAC,KAAA,EAEO,SAAAyG,UAAUA,CAAA,EAAY;MAC5B,IAAMN,EAAU,GAAG,KAAK5D,eAAL,EAAnB;MACA,IAAM6D,EAAU,GAAG,KAAK3D,eAAL,EAAnB;MACA,IAAM4D,UAAU,GAAGF,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAAlC;MAEA,IAAI,KAAK1E,sBAAL,GAA8B,CAA9B,IAAmC2E,UAAU,GAAG1H,mBAApD,EAAyE;QACvE,KAAKyE,sBAAL;QACA,OAAO,IAAP;MACD;MAED,IACE,KAAKvB,gBAAL,KAA0BpC,MAAM,CAACE,gBAAjC,IACAwG,EAAE,GAAG,KAAKtE,gBAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,IACE,KAAKC,cAAL,KAAwBrC,MAAM,CAACC,gBAA/B,IACAyG,EAAE,GAAG,KAAKrE,cAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,IACE,KAAKG,gBAAL,KAA0BxC,MAAM,CAACE,gBAAjC,IACAyG,EAAE,GAAG,KAAKnE,gBAFZ,EAGE;QACA,OAAO,IAAP;MACD;MAED,OACE,KAAKC,cAAL,KAAwBzC,MAAM,CAACC,gBAA/B,IACA0G,EAAE,GAAG,KAAKlE,cAFZ;IAID;EAAA;IAAAnC,GAAA;IAAAC,KAAA,EAEO,SAAAiE,QAAQA,CAACT,KAAD,EAA4B;MAAA,IAAAkD,MAAA;MAC1C,IACE,KAAKpC,YAAL,KAAsBjG,KAAK,CAACuB,YAA5B,IACA,KAAK+D,OAAL,CAAaU,uBAAb,MAA0C,KAAKhD,WAFjD,EAGE;QACA,KAAKyD,aAAL;QACA,KAAK9B,OAAL,GAAe,CAAf;QACA,KAAKG,OAAL,GAAe,CAAf;QACA,KAAKR,SAAL,GAAiB,CAAjB;QACA,KAAKC,SAAL,GAAiB,CAAjB;QAEA,KAAKmD,KAAL;QAEA,IAAI,KAAKrE,sBAAL,GAA8B,CAAlC,EAAqC;UACnC,KAAK4B,iBAAL,GAAyBmC,UAAU,CAAC,YAAM;YACxCiB,MAAA,CAAKV,QAAL;UACD,CAFkC,EAEhC,KAAKtE,sBAF2B,CAAnC;QAGD;MACF,CAjBD,MAiBO;QACL,IAAMwD,QAAQ,GAAG,KAAKvB,OAAL,CAAawB,WAAb,CAAyB3B,KAAK,CAACoB,SAA/B,CAAjB;QACA,KAAKjC,SAAL,GAAiBuC,QAAQ,CAACnB,CAA1B;QACA,KAAKnB,SAAL,GAAiBsC,QAAQ,CAAClB,CAA1B;MACD;IACF;EAAA;IAAAjE,GAAA;IAAAC,KAAA,EAEO,SAAAkE,UAAUA,CAAA,EAAS;MACzB,IAAI,KAAKI,YAAL,KAAsBjG,KAAK,CAACsI,KAAhC,EAAuC;QACrC,IAAI,KAAKF,UAAL,EAAJ,EAAuB;UACrB,KAAKhC,IAAL;QACD,CAFD,MAEO,IAAI,KAAKyB,cAAL,EAAJ,EAA2B;UAChC,KAAKF,QAAL;QACD;MACF;IACF;EAAA;IAAAjG,GAAA;IAAAC,KAAA,EAEM,SAAAgG,QAAQA,CAAA,EAAsB;MAAA,IAArBY,KAAK,GAAA3H,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAiC,SAAA,GAAAjC,SAAA,MAAG,KAAT;MACb,IAAI,KAAKqF,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;QACtC,KAAKO,aAAL;MACD;MAED1E,aAAA,CAAAxB,iBAAA,wBAAegI,KAAf;IACD;EAAA;IAAA7G,GAAA;IAAAC,KAAA,EAES,SAAA6G,QAAQA,CAAA,EAAS;MACzB,KAAKzD,sBAAL;IACD;EAAA;IAAArD,GAAA;IAAAC,KAAA,EAES,SAAA8G,OAAOA,CAAA,EAAS;MACxB,KAAK1D,sBAAL;IACD;EAAA;IAAArD,GAAA;IAAAC,KAAA,EAES,SAAA8E,aAAaA,CAAA,EAAS;MAC9B,IAAI,KAAKR,YAAL,KAAsBjG,KAAK,CAACkG,MAAhC,EAAwC;QACtC;MACD;MAED,KAAKxB,MAAL,GAAc,KAAKD,KAAnB;MACA,KAAKI,MAAL,GAAc,KAAKD,KAAnB;IACD;EAAA;AAAA,EA/jB4CzE,cAAhC;AAAA,SAAMI,iBAAN,IAAAmI,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}